<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="copyright" content="Introduction au package data.table" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #ffffff; color: #1f1c1b; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; background-color: #ffffff; color: #a0a0a0; border-right: 1px solid #a0a0a0; }
td.sourceCode { padding-left: 5px; }
pre, code { color: #1f1c1b; background-color: #ffffff; }
code > span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code > span.dt { color: #0057ae; } /* DataType */
code > span.dv { color: #b08000; } /* DecVal */
code > span.bn { color: #b08000; } /* BaseN */
code > span.fl { color: #b08000; } /* Float */
code > span.cn { color: #aa5500; } /* Constant */
code > span.ch { color: #924c9d; } /* Char */
code > span.sc { color: #3daee9; } /* SpecialChar */
code > span.st { color: #bf0303; } /* String */
code > span.vs { color: #bf0303; } /* VerbatimString */
code > span.ss { color: #ff5500; } /* SpecialString */
code > span.im { color: #ff5500; } /* Import */
code > span.co { color: #898887; } /* Comment */
code > span.do { color: #607880; } /* Documentation */
code > span.an { color: #ca60ca; } /* Annotation */
code > span.cv { color: #0095ff; } /* CommentVar */
code > span.ot { color: #006e28; } /* Other */
code > span.fu { color: #644a9b; } /* Function */
code > span.va { color: #0057ae; } /* Variable */
code > span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code > span.op { color: #1f1c1b; } /* Operator */
code > span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code > span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code > span.pp { color: #006e28; } /* Preprocessor */
code > span.at { color: #0057ae; } /* Attribute */
code > span.re { color: #0057ae; } /* RegionMarker */
code > span.in { color: #b08000; } /* Information */
code > span.wa { color: #bf0303; } /* Warning */
code > span.al { color: #bf0303; font-weight: bold; } /* Alert */
code > span.er { color: #bf0303; text-decoration: underline; } /* Error */
code > span. { color: #1f1c1b; } /* Normal */
  </style>
  <link href="data:text/css;charset=utf-8,%0Abody%0A%7B%0Amargin%3A%200%200%200%200%3B%0Apadding%3A%200%200%200%200%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Acolor%3A%20black%3B%0Abackground%2Dcolor%3A%20white%3B%0Afont%2Dfamily%3A%20%22Gill%20Sans%20MT%22%2C%20%22Gill%20Sans%22%2C%20GillSans%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0Adiv%2Etoolbar%20%7B%0Aposition%3A%20fixed%3B%20z%2Dindex%3A%20200%3B%0Atop%3A%20auto%3B%20bottom%3A%200%3B%20left%3A%200%3B%20right%3A%200%3B%0Aheight%3A%201%2E2em%3B%20text%2Dalign%3A%20right%3B%0Apadding%2Dleft%3A%201em%3B%0Apadding%2Dright%3A%201em%3B%20font%2Dsize%3A%2060%25%3B%0Acolor%3A%20DimGray%3B%0Abackground%2Dcolor%3A%20rgb%28240%2C240%2C240%29%3B%0Aborder%2Dtop%3A%20solid%201px%20rgb%28180%2C180%2C180%29%3B%0A%7D%0Adiv%2Etoolbar%20span%2Ecopyright%20%7B%0Acolor%3A%20DimGray%3B%0Amargin%2Dleft%3A%200%2E5em%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20%7B%0Aposition%3A%20absolute%3B%0Az%2Dindex%3A%201000%3B%0Abottom%3A%201%2E2em%3B%0Awidth%3A%20100%25%3B%0Abackground%2Dcolor%3A%20rgb%28200%2C200%2C200%29%3B%0Aopacity%3A%200%2E35%3B%0Abackground%2Dcolor%3A%20rgb%28200%2C200%2C200%2C%200%2E35%29%3B%0Acursor%3A%20pointer%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20p%2Ehelp%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20p%2Eclose%20%7B%0Atext%2Dalign%3A%20right%3B%0Afont%2Dstyle%3A%20italic%3B%0A%7D%0Adiv%2Eslidy%5Ftoc%20%7B%0Aposition%3A%20absolute%3B%0Az%2Dindex%3A%20300%3B%0Awidth%3A%2060%25%3B%0Amax%2Dwidth%3A%2030em%3B%0Aheight%3A%2030em%3B%0Aoverflow%3A%20auto%3B%0Atop%3A%20auto%3B%0Aright%3A%20auto%3B%0Aleft%3A%204em%3B%0Abottom%3A%204em%3B%0Apadding%3A%201em%3B%0Abackground%3A%20rgb%28240%2C240%2C240%29%3B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%2Dwidth%3A%202px%3B%0Afont%2Dsize%3A%2060%25%3B%0A%7D%0Adiv%2Eslidy%5Ftoc%20%2Etoc%5Fheading%20%7B%0Atext%2Dalign%3A%20center%3B%0Awidth%3A%20100%25%3B%0Amargin%3A%200%3B%0Amargin%2Dbottom%3A%201em%3B%0Aborder%2Dbottom%2Dstyle%3A%20solid%3B%0Aborder%2Dbottom%2Dcolor%3A%20rgb%28180%2C180%2C180%29%3B%0Aborder%2Dbottom%2Dwidth%3A%201px%3B%0A%7D%0Adiv%2Eslide%20%7B%0Az%2Dindex%3A%2020%3B%0Amargin%3A%200%200%200%200%3B%0Apadding%2Dtop%3A%200%3B%0Apadding%2Dbottom%3A%200%3B%0Apadding%2Dleft%3A%2020px%3B%0Apadding%2Dright%3A%2020px%3B%0Aborder%2Dwidth%3A%200%3B%0Aclear%3A%20both%3B%0Atop%3A%200%3B%0Abottom%3A%200%3B%0Aleft%3A%200%3B%0Aright%3A%200%3B%0Aline%2Dheight%3A%20120%25%3B%0Abackground%2Dcolor%3A%20transparent%3B%0A%7D%0Adiv%2Ebackground%20%7B%0Adisplay%3A%20none%3B%0A%7D%0Adiv%2Ehandout%20%7B%0Amargin%2Dleft%3A%2020px%3B%0Amargin%2Dright%3A%2020px%3B%0A%7D%0Adiv%2Eslide%2Etitlepage%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Adiv%2Eslide%2Etitlepage%20h1%20%7B%0Apadding%2Dtop%3A%2010%25%3B%0Amargin%2Dright%3A%200%3B%0A%7D%0Adiv%2Eslide%20h1%20%7B%0Apadding%2Dleft%3A%200%3B%0Apadding%2Dright%3A%2020pt%3B%0Apadding%2Dtop%3A%204pt%3B%0Apadding%2Dbottom%3A%204pt%3B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dleft%3A%200%3B%0Amargin%2Dright%3A%2060pt%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0Adisplay%3A%20block%3B%20font%2Dsize%3A%20160%25%3B%0Aline%2Dheight%3A%201%2E2em%3B%0Abackground%3A%20transparent%3B%0A%7D%0A%40media%20screen%20and%20%28max%2Ddevice%2Dwidth%3A%201024px%29%0A%7B%0Adiv%2Eslide%20%7B%20font%2Dsize%3A%20100%25%3B%20%7D%0A%7D%0A%40media%20screen%20and%20%28max%2Ddevice%2Dwidth%3A%20800px%29%0A%7B%0Adiv%2Eslide%20%7B%20font%2Dsize%3A%20200%25%3B%20%7D%0Adiv%2Eslidy%5Ftoc%20%7B%0Atop%3A%201em%3B%0Aleft%3A%201em%3B%0Aright%3A%20auto%3B%0Awidth%3A%2080%25%3B%0Afont%2Dsize%3A%20180%25%3B%0A%7D%0A%7D%0Adiv%2Etoc%2Dheading%20%7B%0Awidth%3A%20100%25%3B%0Aborder%2Dbottom%3A%20solid%201px%20rgb%28180%2C180%2C180%29%3B%0Amargin%2Dbottom%3A%201em%3B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Aimage%2Drendering%3A%20optimize%2Dquality%3B%0A%7D%0Apre%20%7B%0Afont%2Dsize%3A%2080%25%3B%0Afont%2Dweight%3A%20bold%3B%0Aline%2Dheight%3A%20120%25%3B%0Apadding%2Dtop%3A%200%2E2em%3B%0Apadding%2Dbottom%3A%200%2E2em%3B%0Apadding%2Dleft%3A%201em%3B%0Apadding%2Dright%3A%201em%3B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%2Dleft%2Dwidth%3A%201em%3B%0Aborder%2Dtop%2Dwidth%3A%20thin%3B%0Aborder%2Dright%2Dwidth%3A%20thin%3B%0Aborder%2Dbottom%2Dwidth%3A%20thin%3B%0Aborder%2Dcolor%3A%20%2395ABD0%3B%0Acolor%3A%20%2300428C%3B%0Abackground%2Dcolor%3A%20%23E4E5E7%3B%0A%7D%0Ali%20pre%20%7B%20margin%2Dleft%3A%200%3B%20%7D%0Ablockquote%20%7B%20font%2Dstyle%3A%20italic%20%7D%0Aimg%20%7B%20background%2Dcolor%3A%20transparent%20%7D%0Ap%2Ecopyright%20%7B%20font%2Dsize%3A%20smaller%20%7D%0A%2Ecenter%20%7B%20text%2Dalign%3A%20center%20%7D%0A%2Efootnote%20%7B%20font%2Dsize%3A%20smaller%3B%20margin%2Dleft%3A%202em%3B%20%7D%0Aa%20img%20%7B%20border%2Dwidth%3A%200%3B%20border%2Dstyle%3A%20none%20%7D%0Aa%3Avisited%20%7B%20color%3A%20navy%20%7D%0Aa%3Alink%20%7B%20color%3A%20navy%20%7D%0Aa%3Ahover%20%7B%20color%3A%20red%3B%20text%2Ddecoration%3A%20underline%20%7D%0Aa%3Aactive%20%7B%20color%3A%20red%3B%20text%2Ddecoration%3A%20underline%20%7D%0Aa%20%7Btext%2Ddecoration%3A%20none%7D%0A%2Etoolbar%20a%3Alink%20%7Bcolor%3A%20blue%7D%0A%2Etoolbar%20a%3Avisited%20%7Bcolor%3A%20blue%7D%0A%2Etoolbar%20a%3Aactive%20%7Bcolor%3A%20red%7D%0A%2Etoolbar%20a%3Ahover%20%7Bcolor%3A%20red%7D%0Aul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Ali%20%7B%20margin%2Dleft%3A%200%2E5em%3B%20margin%2Dtop%3A%200%2E5em%3B%20%7D%0Ali%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20italic%20%7D%0Ali%20li%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20normal%20%7D%0Adiv%20dt%0A%7B%0Amargin%2Dleft%3A%200%3B%0Amargin%2Dtop%3A%201em%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Adiv%20dd%0A%7B%0Amargin%2Dleft%3A%202em%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0A%7D%0Ap%2Cpre%2Cul%2Col%2Cblockquote%2Ch2%2Ch3%2Ch4%2Ch5%2Ch6%2Cdl%2Ctable%20%7B%0Amargin%2Dleft%3A%201em%3B%0Amargin%2Dright%3A%201em%3B%0A%7D%0Ap%2Esubhead%20%7B%20font%2Dweight%3A%20bold%3B%20margin%2Dtop%3A%202em%3B%20%7D%0A%2Esmaller%20%7B%20font%2Dsize%3A%20smaller%20%7D%0A%2Ebigger%20%7B%20font%2Dsize%3A%20130%25%20%7D%0Atd%2Cth%20%7B%20padding%3A%200%2E2em%20%7D%0Aul%20%7B%0Amargin%3A%200%2E5em%201%2E5em%200%2E5em%201%2E5em%3B%0Apadding%3A%200%3B%0A%7D%0Aol%20%7B%0Amargin%3A%200%2E5em%201%2E5em%200%2E5em%201%2E5em%3B%0Apadding%3A%200%3B%0A%7D%0Aul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20li%20%7B%20list%2Dstyle%3A%20square%3B%0Amargin%3A%200%2E1em%200em%200%2E6em%200%3B%0Apadding%3A%200%200%200%200%3B%0Aline%2Dheight%3A%20140%25%3B%0A%7D%0Aol%20li%20%7B%20margin%3A%200%2E1em%200em%200%2E6em%201%2E5em%3B%0Apadding%3A%200%200%200%200px%3B%0Aline%2Dheight%3A%20140%25%3B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0Ali%20ul%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20italic%3B%0Alist%2Dstyle%2Dtype%3A%20disc%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20li%20ul%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20normal%3B%0Alist%2Dstyle%2Dtype%3A%20circle%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20li%20li%20ul%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20disc%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20ol%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0Ali%20li%20ol%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0A%0Aol%2Eoutline%20li%3Ahover%20%7B%20cursor%3A%20pointer%20%7D%0Aol%2Eoutline%20li%2Enofold%3Ahover%20%7B%20cursor%3A%20default%20%7D%0Aul%2Eoutline%20li%3Ahover%20%7B%20cursor%3A%20pointer%20%7D%0Aul%2Eoutline%20li%2Enofold%3Ahover%20%7B%20cursor%3A%20default%20%7D%0Aol%2Eoutline%20%7B%20list%2Dstyle%3Adecimal%3B%20%7D%0Aol%2Eoutline%20ol%20%7B%20list%2Dstyle%2Dtype%3Alower%2Dalpha%20%7D%0Aol%2Eoutline%20li%2Enofold%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAIACAMzMzOvr%2FywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Eunfolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Efolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Eunfolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Efolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Enofold%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAIACAMzMzOvr%2FywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Eunfolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Efolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Eunfolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Efolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0A%0Aa%2Etitleslide%20%7B%20font%2Dweight%3A%20bold%3B%20font%2Dstyle%3A%20italic%20%7D%0A%0Aimg%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Adiv%2Einitial%5Fprompt%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Adiv%2Eslide%20%7B%0Avisibility%3A%20visible%3B%0Aposition%3A%20inherit%3B%0A%7D%0Adiv%2Ehandout%20%7B%0Aborder%2Dtop%2Dstyle%3A%20solid%3B%0Aborder%2Dtop%2Dwidth%3A%20thin%3B%0Aborder%2Dtop%2Dcolor%3A%20black%3B%0A%7D%0A%40media%20screen%20%7B%0A%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20visible%20%7D%0Adiv%2Eslide%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Ehandout%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Ebackground%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20div%2Einitial%5Fprompt%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Abody%2Esingle%5Fslide%20div%2Ebackground%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Abody%2Esingle%5Fslide%20div%2Ebackground%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20%2Einvisible%20%7B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20div%2Eslide%20%7B%20position%3A%20absolute%20%7D%0Abody%2Esingle%5Fslide%20div%2Ehandout%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0A%7D%0A%40media%20print%20%7B%0A%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Eslide%20pre%20%7B%20font%2Dsize%3A%2060%25%3B%20padding%2Dleft%3A%200%2E5em%3B%20%7D%0Adiv%2Etoolbar%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Eslidy%5Ftoc%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Ebackground%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Eslide%20%7B%20page%2Dbreak%2Dbefore%3A%20always%20%7D%0A%0Adiv%2Eslide%2Efirst%2Dslide%20%7B%20page%2Dbreak%2Dbefore%3A%20avoid%20%7D%0A%7D%0A%0A%0A%2Ejslider%20table%20%7B%0Amargin%2Dleft%3A%200em%3B%0Amargin%2Dright%3A%200em%3B%0A%7D%0A%0Atable%2EdataTable%2C%20%2Eshiny%2Ddatatable%2Doutput%20div%20%7B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0A%0A%2EdataTables%5Finfo%2C%20%2EdataTables%5Fpaginate%20%7B%0Afont%2Dsize%3A%2019px%3B%0A%7D%0A%0Apre%2EsourceCode%2C%20code%2EsourceCode%20%7B%0Afont%2Dsize%3A%2080%25%3B%0A%7D%0A%0Alabel%2C%20button%2C%20input%2C%20select%2C%20textarea%20%7B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0A%0Aul%2Enav%2C%20ul%2Enav%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20none%3B%0A%7D%0A" rel="stylesheet" />
  <script src="data:application/x-javascript;base64,Lyogc2xpZHkuanMKCiAgIENvcHlyaWdodCAoYykgMjAwNS0yMDEzIFczQyAoTUlULCBFUkNJTSwgS2VpbyksIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiAgIFczQyBsaWFiaWxpdHksIHRyYWRlbWFyaywgZG9jdW1lbnQgdXNlIGFuZCBzb2Z0d2FyZSBsaWNlbnNpbmcKICAgcnVsZXMgYXBwbHksIHNlZToKCiAgIGh0dHA6Ly93d3cudzMub3JnL0NvbnNvcnRpdW0vTGVnYWwvY29weXJpZ2h0LWRvY3VtZW50cwogICBodHRwOi8vd3d3LnczLm9yZy9Db25zb3J0aXVtL0xlZ2FsL2NvcHlyaWdodC1zb2Z0d2FyZQoKICAgRGVmaW5lcyBzaW5nbGUgbmFtZSAidzNjX3NsaWR5IiBpbiBnbG9iYWwgbmFtZXNwYWNlCiAgIEFkZHMgZXZlbnQgaGFuZGxlcnMgd2l0aG91dCB0cmFtcGxpbmcgb24gYW55IG90aGVycwoqLwoKLy8gdGhlIHNsaWR5IG9iamVjdCBpbXBsZW1lbnRhdGlvbgp2YXIgdzNjX3NsaWR5ID0gewogIC8vIGNsYXNzaWZ5IHdoaWNoIGtpbmQgb2YgYnJvd3NlciB3ZSdyZSBydW5uaW5nIHVuZGVyCiAgbnNfcG9zOiAodHlwZW9mIHdpbmRvdy5wYWdlWU9mZnNldCE9J3VuZGVmaW5lZCcpLAogIGtodG1sOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgb3BlcmE6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiT3BlcmEiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGFkOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoImlQYWQiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGhvbmU6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiaVBob25lIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgYW5kcm9pZDogKChuYXZpZ2F0b3IudXNlckFnZW50KS5pbmRleE9mKCJBbmRyb2lkIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgaWU6ICh0eXBlb2YgZG9jdW1lbnQuYWxsICE9ICJ1bmRlZmluZWQiICYmICF0aGlzLm9wZXJhKSwKICBpZTY6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDYiKSAhPSAtMSksCiAgaWU3OiAoIXRoaXMubnNfcG9zICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA3IikgIT0gLTEpLAogIGllODogKCF0aGlzLm5zX3BvcyAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgOCIpICE9IC0xKSwKICBpZTk6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDkiKSAhPSAtMSksCgogIC8vIGRhdGEgZm9yIHN3aXBlIGFuZCBkb3VibGUgdGFwIGRldGVjdGlvbiBvbiB0b3VjaCBzY3JlZW5zCiAgbGFzdF90YXA6IDAsCiAgcHJldl90YXA6IDAsCiAgc3RhcnRfeDogMCwKICBzdGFydF95OiAwLAogIGRlbHRhX3g6IDAsCiAgZGVsdGFfeTogMCwKCiAgLy8gYXJlIHdlIHJ1bm5pbmcgYXMgWEhUTUw/IChkb2Vzbid0IHdvcmsgb24gT3BlcmEpCiAgaXNfeGh0bWw6IC94bWwvLnRlc3QoZG9jdW1lbnQuY29udGVudFR5cGUpLAoKICBzbGlkZV9udW1iZXI6IDAsIC8vIGludGVnZXIgc2xpZGUgY291bnQ6IDAsIDEsIDIsIC4uLgogIHNsaWRlX251bWJlcl9lbGVtZW50OiBudWxsLCAvLyBlbGVtZW50IGNvbnRhaW5pbmcgc2xpZGUgbnVtYmVyCiAgc2xpZGVzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIHNsaWRlIGRpdidzCiAgbm90ZXM6IFtdLCAvLyBzZXQgdG8gYXJyYXkgb2YgaGFuZG91dCBkaXYncwogIGJhY2tncm91bmRzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIGJhY2tncm91bmQgZGl2J3MKICBvYnNlcnZlcnM6IFtdLCAvLyBsaXN0IG9mIG9ic2VydmVyIGZ1bmN0aW9ucwogIHRvb2xiYXI6IG51bGwsIC8vIGVsZW1lbnQgY29udGFpbmluZyB0b29sYmFyCiAgdGl0bGU6IG51bGwsIC8vIGRvY3VtZW50IHRpdGxlCiAgbGFzdF9zaG93bjogbnVsbCwgLy8gbGFzdCBpbmNyZW1lbnRhbGx5IHNob3duIGl0ZW0KICBlb3M6IG51bGwsICAvLyBzcGFuIGVsZW1lbnQgZm9yIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKICB0b2M6IG51bGwsIC8vIHRhYmxlIG9mIGNvbnRlbnRzCiAgb3V0bGluZTogbnVsbCwgLy8gb3V0bGluZSBlbGVtZW50IHdpdGggdGhlIGZvY3VzCiAgc2VsZWN0ZWRfdGV4dF9sZW46IDAsIC8vIGxlbmd0aCBvZiBkcmFnIHNlbGVjdGlvbiBvbiBkb2N1bWVudAogIHZpZXdfYWxsOiAwLCAgLy8gMSB0byB2aWV3IGFsbCBzbGlkZXMgKyBoYW5kb3V0cwogIHdhbnRfdG9vbGJhcjogdHJ1ZSwgIC8vIHVzZXIgcHJlZmVyZW5jZSB0byBzaG93L2hpZGUgdG9vbGJhcgogIG1vdXNlX2NsaWNrX2VuYWJsZWQ6IHRydWUsIC8vIGVuYWJsZXMgbGVmdCBjbGljayBmb3IgbmV4dCBzbGlkZQogIHNjcm9sbF9oYWNrOiAwLCAvLyBJRSB3b3JrIGFyb3VuZCBmb3IgcG9zaXRpb246IGZpeGVkCiAgZGlzYWJsZV9zbGlkZV9jbGljazogZmFsc2UsICAvLyB1c2VkIGJ5IGNsaWNrZWQgYW5jaG9ycwoKICBsYW5nOiAiZW4iLCAvLyB1cGRhdGVkIHRvIGxhbmd1YWdlIHNwZWNpZmllZCBieSBodG1sIGZpbGUKCiAgaGVscF9hbmNob3I6IG51bGwsIC8vIHVzZWQgZm9yIGtleWJvYXJkIGZvY3VzIGhhY2sgaW4gc2hvd1Rvb2xiYXIoKQogIGhlbHBfcGFnZTogImh0dHA6Ly93d3cudzMub3JnL1RhbGtzL1Rvb2xzL1NsaWR5Mi9oZWxwL2hlbHAuaHRtbCIsCiAgaGVscF90ZXh0OiAiTmF2aWdhdGUgd2l0aCBtb3VzZSBjbGljaywgc3BhY2UgYmFyLCBDdXJzb3IgTGVmdC9SaWdodCwgIiArCiAgICAgICAgICAgICAib3IgUGcgVXAgYW5kIFBnIERuLiBVc2UgUyBhbmQgQiB0byBjaGFuZ2UgZm9udCBzaXplLiIsCgogIHNpemVfaW5kZXg6IDAsCiAgc2l6ZV9hZGp1c3RtZW50OiAwLAogIHNpemVzOiAgbmV3IEFycmF5KCIxMHB0IiwgIjEycHQiLCAiMTRwdCIsICIxNnB0IiwgIjE4cHQiLCAiMjBwdCIsCiAgICAgICAgICAgICAgICAgICAgIjIycHQiLCAiMjRwdCIsICIyNnB0IiwgIjI4cHQiLCAiMzBwdCIsICIzMnB0IiksCgogIC8vIG5lZWRlZCBmb3IgZWZmaWNpZW50IHJlc2l6aW5nCiAgbGFzdF93aWR0aDogMCwKICBsYXN0X2hlaWdodDogMCwKCgogIC8vIE5lZWRlZCBmb3IgY3Jvc3MgYnJvd3NlciBzdXBwb3J0IGZvciByZWxhdGl2ZSB3aWR0aC9oZWlnaHQgb24KICAvLyBvYmplY3QgZWxlbWVudHMuIFRoZSB3b3JrIGFyb3VuZCBpcyB0byBzYXZlIHdpZHRoL2hlaWdodCBhdHRyaWJ1dGVzCiAgLy8gYW5kIHRoZW4gdG8gcmVjb21wdXRlIGFic29sdXRlIHdpZHRoL2hlaWdodCBkaW1lbnNpb25zIG9uIHJlc2l6aW5nCiAgIG9iamVjdHM6IFtdLAoKICAvLyBhdHRhY2ggaW5pdGlhbGlhdGlvbiBldmVudCBoYW5kbGVycwogIHNldF91cDogZnVuY3Rpb24gKCkgewogICAgdmFyIGluaXQgPSBmdW5jdGlvbigpIHsgdzNjX3NsaWR5LmluaXQoKTsgfTsKICAgIGlmICh0eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgIT0gInVuZGVmaW5lZCIpCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgaW5pdCwgZmFsc2UpOwogICAgZWxzZQogICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsIGluaXQpOwogIH0sCgogIGhpZGVfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiAhdzNjX3NsaWR5LmluaXRpYWxpemVkKQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgIGVsc2UKICAgICAgc2V0VGltZW91dCh3M2Nfc2xpZHkuaGlkZV9zbGlkZXMsIDUwKTsKICB9LAoKICAvLyBoYWNrIHRvIHBlcnN1YWRlIElFIHRvIGNvbXB1dGUgY29ycmVjdCBkb2N1bWVudCBoZWlnaHQKICAvLyBhcyBuZWVkZWQgZm9yIHNpbXVsYXRpbmcgZml4ZWQgcG9zaXRpb25pbmcgb2YgdG9vbGJhcgogIGllX2hhY2s6IGZ1bmN0aW9uICgpIHsKICAgIHdpbmRvdy5yZXNpemVCeSgwLC0xKTsKICAgIHdpbmRvdy5yZXNpemVCeSgwLCAxKTsKICB9LAoKICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAvL2FsZXJ0KCJzbGlkeSBzdGFydGluZyB0ZXN0IDEwIik7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAidmlzaWJsZSI7CiAgICB0aGlzLmluaXRfbG9jYWxpemF0aW9uKCk7CiAgICB0aGlzLmFkZF90b29sYmFyKCk7CiAgICB0aGlzLndyYXBfaW1wbGljaXRfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfbm90ZXMoKTsKICAgIHRoaXMuY29sbGVjdF9iYWNrZ3JvdW5kcygpOwogICAgdGhpcy5vYmplY3RzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgib2JqZWN0Iik7CiAgICB0aGlzLnBhdGNoX2FuY2hvcnMoKTsKICAgIHRoaXMuc2xpZGVfbnVtYmVyID0gdGhpcy5maW5kX3NsaWRlX251bWJlcihsb2NhdGlvbi5ocmVmKTsKICAgIHdpbmRvdy5vZmZzY3JlZW5idWZmZXJpbmcgPSB0cnVlOwogICAgdGhpcy5zaXplX2FkanVzdG1lbnQgPSB0aGlzLmZpbmRfc2l6ZV9hZGp1c3QoKTsKICAgIHRoaXMudGltZV9sZWZ0ID0gdGhpcy5maW5kX2R1cmF0aW9uKCk7CiAgICB0aGlzLmhpZGVfaW1hZ2VfdG9vbGJhcigpOyAgLy8gc3VwcHJlc3MgSUUgaW1hZ2UgdG9vbGJhciBwb3B1cAogICAgdGhpcy5pbml0X291dGxpbmVyKCk7ICAvLyBhY3RpdmF0ZSBmb2xkL3VuZm9sZCBzdXBwb3J0CiAgICB0aGlzLnRpdGxlID0gZG9jdW1lbnQudGl0bGU7CiAgICB0aGlzLmtleWJvYXJkbGVzcyA9ICh0aGlzLmlwYWR8fHRoaXMuaXBob25lfHx0aGlzLmFuZHJvaWQpOwoKICAgIGlmICh0aGlzLmtleWJvYXJkbGVzcykKICAgIHsKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgIHRoaXMud2FudF90b29sYmFyID0gMDsKICAgIH0KCiAgICAvLyB3b3JrIGFyb3VuZCBmb3Igb3BlcmEgYnVnCiAgICB0aGlzLmlzX3hodG1sID0gKGRvY3VtZW50LmJvZHkudGFnTmFtZSA9PSAiQk9EWSIgPyBmYWxzZSA6IHRydWUpOwoKICAgIGlmICh0aGlzLnNsaWRlcy5sZW5ndGggPiAwKQogICAgewogICAgICB2YXIgc2xpZGUgPSB0aGlzLnNsaWRlc1t0aGlzLnNsaWRlX251bWJlcl07CiAgIAogICAgICBpZiAodGhpcy5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgICAgICAgdGhpcy5zZXRfZW9zX3N0YXR1cyh0cnVlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKCF0aGlzLm5leHRfaW5jcmVtZW50YWxfaXRlbSh0aGlzLmxhc3Rfc2hvd24pKTsKICAgICAgfQoKICAgICAgdGhpcy5zZXRfbG9jYXRpb24oKTsKICAgICAgdGhpcy5hZGRfY2xhc3ModGhpcy5zbGlkZXNbMF0sICJmaXJzdC1zbGlkZSIpOwogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZShzbGlkZSk7CiAgICB9CgogICAgdGhpcy50b2MgPSB0aGlzLnRhYmxlX29mX2NvbnRlbnRzKCk7CgogICAgdGhpcy5hZGRfaW5pdGlhbF9wcm9tcHQoKTsKCiAgICAvLyBiaW5kIGV2ZW50IGhhbmRsZXJzIHdpdGhvdXQgaW50ZXJmZXJpbmcgd2l0aCBjdXN0b20gcGFnZSBzY3JpcHRzCiAgICAvLyBUYXAgZXZlbnRzIGJlaGF2ZSB0b28gd2VpcmRseSB0byBzdXBwb3J0IGNsaWNrcyByZWxpYWJseSBvbgogICAgLy8gaVBob25lIGFuZCBpUGFkLCBzbyBleGNsdWRlIHRoZXNlIGZyb20gY2xpY2sgaGFuZGxlcgoKICAgIGlmICghdGhpcy5rZXlib2FyZGxlc3MpCiAgICB7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LmJvZHksICJjbGljayIsIHRoaXMubW91c2VfYnV0dG9uX2NsaWNrKTsKICAgICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQuYm9keSwgIm1vdXNlZG93biIsIHRoaXMubW91c2VfYnV0dG9uX2Rvd24pOwogICAgfQoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAia2V5ZG93biIsIHRoaXMua2V5X2Rvd24pOwogICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQsICJrZXlwcmVzcyIsIHRoaXMua2V5X3ByZXNzKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInJlc2l6ZSIsIHRoaXMucmVzaXplZCk7CiAgICB0aGlzLmFkZF9saXN0ZW5lcih3aW5kb3csICJzY3JvbGwiLCB0aGlzLnNjcm9sbGVkKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInVubG9hZCIsIHRoaXMudW5sb2FkZWQpOwoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAiZ2VzdHVyZWNoYW5nZSIsIGZ1bmN0aW9uICgpCiAgICB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0pOwoKICAgIHRoaXMuYXR0YWNoX3RvdWNoX2hhbmRlcnModGhpcy5zbGlkZXMpOwoKICAgIC8vIHRoaXMgc2VlbXMgdG8gYmUgYSBkZWJ1Z2dpbmcgaGFjawogICAgLy9pZiAoIWRvY3VtZW50LmJvZHkub25jbGljaykKICAgIC8vICBkb2N1bWVudC5ib2R5Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7IH07CgogICAgdGhpcy5zaW5nbGVfc2xpZGVfdmlldygpOwoKICAgIC8vdGhpcy5zZXRfbG9jYXRpb24oKTsKCiAgICB0aGlzLnJlc2l6ZWQoKTsKCiAgICBpZiAodGhpcy5pZTcpCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CgogICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKCiAgICAvLyBmb3IgYmFjayBidXR0b24gZGV0ZWN0aW9uCiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHczY19zbGlkeS5jaGVja19sb2NhdGlvbigpOyB9LCAyMDApOwogICAgdzNjX3NsaWR5LmluaXRpYWxpemVkID0gdHJ1ZTsKICB9LAoKICAvLyBjcmVhdGUgZGl2IGVsZW1lbnQgd2l0aCBsaW5rcyB0byBlYWNoIHNsaWRlCiAgdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0b2MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgIHRoaXMuYWRkX2NsYXNzKHRvYywgInNsaWR5X3RvYyBoaWRkZW4iKTsKICAgIC8vdG9jLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCAiMCIpOwoKICAgIHZhciBoZWFkaW5nID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICB0aGlzLmFkZF9jbGFzcyhoZWFkaW5nLCAidG9jLWhlYWRpbmciKTsKICAgIGhlYWRpbmcuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiVGFibGUgb2YgQ29udGVudHMiKTsKCiAgICB0b2MuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CiAgICB2YXIgcHJldmlvdXMgPSBudWxsOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIHZhciB0aXRsZSA9IHRoaXMuaGFzX2NsYXNzKHRoaXMuc2xpZGVzW2ldLCAidGl0bGUiKTsKICAgICAgdmFyIG51bSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKChpICsgMSkgKyAiLiAiKTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChudW0pOwoKICAgICAgdmFyIGEgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgIGEuc2V0QXR0cmlidXRlKCJocmVmIiwgIiMoIiArIChpKzEpICsgIikiKTsKCiAgICAgIGlmICh0aXRsZSkKICAgICAgICB0aGlzLmFkZF9jbGFzcyhhLCAidGl0bGVzbGlkZSIpOwoKICAgICAgdmFyIG5hbWUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLnNsaWRlX25hbWUoaSkpOwogICAgICBhLmFwcGVuZENoaWxkKG5hbWUpOwogICAgICBhLm9uY2xpY2sgPSB3M2Nfc2xpZHkudG9jX2NsaWNrOwogICAgICBhLm9ua2V5ZG93biA9IHczY19zbGlkeS50b2Nfa2V5X2Rvd247CiAgICAgIGEucHJldmlvdXMgPSBwcmV2aW91czsKCiAgICAgIGlmIChwcmV2aW91cykKICAgICAgICBwcmV2aW91cy5uZXh0ID0gYTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChhKTsKCiAgICAgIGlmIChpID09IDApCiAgICAgICAgdG9jLmZpcnN0ID0gYTsKCiAgICAgIGlmIChpIDwgdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSkKICAgICAgewogICAgICAgIHZhciBiciA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImJyIik7CiAgICAgICAgdG9jLmFwcGVuZENoaWxkKGJyKTsKICAgICAgfQoKICAgICAgcHJldmlvdXMgPSBhOwogICAgfQoKICAgIHRvYy5mb2N1cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuZmlyc3QpCiAgICAgICAgdGhpcy5maXJzdC5mb2N1cygpOwogICAgfQoKICAgIHRvYy5vbm1vdXNldXAgPSB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX3VwOwoKICAgIHRvYy5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHsKICAgICAgZXx8KGU9d2luZG93LmV2ZW50KTsKCiAgICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPD0gMCkKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CgogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgIAogICAgICBpZiAoZS5jYW5jZWwgIT0gdW5kZWZpbmVkKQogICAgICAgIGUuY2FuY2VsID0gdHJ1ZTsKICAgICAgCiAgICAgIGlmIChlLnJldHVyblZhbHVlICE9IHVuZGVmaW5lZCkKICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIAogICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwoKICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHRvYywgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTsKICAgIHJldHVybiB0b2M7CiAgfSwKCiAgaXNfc2hvd25fdG9jOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIXczY19zbGlkeS5oYXNfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogIH0sCgogIHNob3dfdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogICAgdmFyIHRvYyA9IHczY19zbGlkeS50b2M7CiAgICB0b2MuZm9jdXMoKTsKCiAgICBpZiAodzNjX3NsaWR5LmllNyAmJiB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID09IDApCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CiAgfSwKCiAgaGlkZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKGZvY3VzKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKTsKCiAgICBpZiAoZm9jdXMgJiYgIXczY19zbGlkeS5vcGVyYSAmJgogICAgICAgICF3M2Nfc2xpZHkuaGFzX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKSkKICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogIH0sCgogIHRvZ2dsZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5pc19zaG93bl90b2MoKSkKICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CiAgICBlbHNlCiAgICAgIHczY19zbGlkeS5zaG93X3RhYmxlX29mX2NvbnRlbnRzKCk7CiAgfSwKCiAgLy8gY2FsbGVkIG9uIGNsaWNraW5nIHRvYyBlbnRyeQogIHRvY19jbGljazogZnVuY3Rpb24gKGUpIHsKICAgIGlmICghZSkKICAgICAgZSA9IHdpbmRvdy5ldmVudDsKCiAgICB2YXIgdGFyZ2V0ID0gdzNjX3NsaWR5LmdldF90YXJnZXQoZSk7CgogICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMSkKICAgIHsKICAgICAgdmFyIHVyaSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKCiAgICAgIGlmICh1cmkpCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJnb2luZyB0byAiICsgdXJpKTsKICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LmZpbmRfc2xpZGVfbnVtYmVyKHVyaSk7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgIC8vdGFyZ2V0LmZvY3VzKCk7CgogICAgICAgIHRyeQogICAgICAgIHsKICAgICAgICAgIGlmICghdzNjX3NsaWR5Lm9wZXJhKQogICAgICAgICAgICB3M2Nfc2xpZHkuc2V0X2ZvY3VzKCk7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKQogICAgICAgIHsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKICAgIGlmICh3M2Nfc2xpZHkuaWU3KSB3M2Nfc2xpZHkuaWVfaGFjaygpOwogICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChlKTsKICB9LAoKICAvLyBjYWxsZWQgb25rZXlkb3duIGZvciB0b2MgZW50cnkKICB0b2Nfa2V5X2Rvd246IGZ1bmN0aW9uIChldmVudCkgewogICAgdmFyIGtleTsKCiAgICBpZiAoIWV2ZW50KQogICAgICB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgZWxzZSBpZiAoZXZlbnQud2hpY2gpCiAgICAgIGtleSA9IGV2ZW50LndoaWNoOwogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgcmV0dXJuIHRydWU7CgogICAgLy8gY2hlY2sgZm9yIGNvbmN1cnJlbnQgY29udHJvbC9jb21tYW5kL2FsdCBrZXkKICAgIC8vIGJ1dCBhcmUgdGhlc2Ugb25seSBwcmVzZW50IG9uIG1vdXNlIGV2ZW50cz8KCiAgICBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5hbHRLZXkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChrZXkgPT0gMTMpCiAgICB7CiAgICAgIHZhciB1cmkgPSB0aGlzLmdldEF0dHJpYnV0ZSgiaHJlZiIpOwoKICAgICAgaWYgKHVyaSkKICAgICAgewogICAgICAgIC8vYWxlcnQoImdvaW5nIHRvICIgKyB1cmkpOwogICAgICAgdmFyIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5maW5kX3NsaWRlX251bWJlcih1cmkpOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7CiAgICAgICAgdzNjX3NsaWR5LnNldF9sb2NhdGlvbigpOwogICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cyghdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbSh3M2Nfc2xpZHkubGFzdF9zaG93bikpOwogICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAvL3RhcmdldC5mb2N1cygpOwoKICAgICAgICB0cnkKICAgICAgICB7CiAgICAgICAgICBpZiAoIXczY19zbGlkeS5vcGVyYSkKICAgICAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZSkKICAgICAgICB7CiAgICAgICAgfQogICAgICB9CgogICAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKCiAgICAgIGlmIChzZWxmLmllNykKICAgICAgIHczY19zbGlkeS5pZV9oYWNrKCk7CgogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSA0MCAmJiB0aGlzLm5leHQpCiAgICB7CiAgICAgIHRoaXMubmV4dC5mb2N1cygpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSAzOCAmJiB0aGlzLnByZXZpb3VzKQogICAgewogICAgICB0aGlzLnByZXZpb3VzLmZvY3VzKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICB0b3VjaHN0YXJ0OiBmdW5jdGlvbiAoZSkKICB7CiAgICAvLyBhIGRvdWJsZSB0b3VjaCBvZnRlbiBzdGFydHMgd2l0aCBhCiAgICAvLyBzaW5nbGUgdG91Y2ggZHVlIHRvIGZpbmdlcnMgdG91Y2hpbmcKICAgIC8vIGRvd24gYXQgc2xpZ2h0bHkgZGlmZmVyZW50IHRpbWVzCiAgICAvLyB0aHVzIGF2b2lkIGNhbGxpbmcgcHJldmVudERlZmF1bHQgaGVyZQogICAgdGhpcy5wcmV2X3RhcCA9IHRoaXMubGFzdF90YXA7CiAgICB0aGlzLmxhc3RfdGFwID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7CgogICAgdmFyIHRhcF9kZWxheSA9IHRoaXMubGFzdF90YXAgLSB0aGlzLnByZXZfdGFwOwoKICAgIGlmICh0YXBfZGVsYXkgPD0gMjAwKQogICAgewogICAgICAvLyBkb3VibGUgdGFwCiAgICB9CgogICAgdmFyIHRvdWNoID0gZS50b3VjaGVzWzBdOwoKICAgIHRoaXMucGFnZVggPSB0b3VjaC5wYWdlWDsKICAgIHRoaXMucGFnZVkgPSB0b3VjaC5wYWdlWTsKICAgIHRoaXMuc2NyZWVuWCA9IHRvdWNoLnNjcmVlblg7CiAgICB0aGlzLnNjcmVlblkgPSB0b3VjaC5zY3JlZW5ZOwogICAgdGhpcy5jbGllbnRYID0gdG91Y2guY2xpZW50WDsKICAgIHRoaXMuY2xpZW50WSA9IHRvdWNoLmNsaWVudFk7CgogICAgdGhpcy5kZWx0YV94ID0gdGhpcy5kZWx0YV95ID0gMDsKICB9LAoKICB0b3VjaG1vdmU6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIG92ZXJyaWRlIG5hdGl2ZSBnZXN0dXJlcyBmb3Igc2luZ2xlIHRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF07CiAgICB0aGlzLmRlbHRhX3ggPSB0b3VjaC5wYWdlWCAtIHRoaXMucGFnZVg7CiAgICB0aGlzLmRlbHRhX3kgPSB0b3VjaC5wYWdlWSAtIHRoaXMucGFnZVk7CiAgfSwKCiAgdG91Y2hlbmQ6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIGRlZmF1bHQgYmVoYXZpb3IgZm9yIG11bHRpLXRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICB2YXIgZGVsYXkgPSAobmV3IERhdGUpLmdldFRpbWUoKSAtIHRoaXMubGFzdF90YXA7CiAgICB2YXIgZHggPSB0aGlzLmRlbHRhX3g7CiAgICB2YXIgZHkgPSB0aGlzLmRlbHRhX3k7CiAgICB2YXIgYWJzX2R4ID0gTWF0aC5hYnMoZHgpOwogICAgdmFyIGFic19keSA9IE1hdGguYWJzKGR5KTsKCiAgICBpZiAoZGVsYXkgPCA1MDAgJiYgKGFic19keCA+IDEwMCB8fCBhYnNfZHkgPiAxMDApKQogICAgewogICAgICBpZiAoYWJzX2R4ID4gMC41ICogYWJzX2R5KQogICAgICB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICBpZiAoZHggPCAwKQogICAgICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUodHJ1ZSk7CiAgICAgICAgZWxzZQogICAgICAgICAgdzNjX3NsaWR5LnByZXZpb3VzX3NsaWRlKHRydWUpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKGFic19keSA+IDIgKiBhYnNfZHgpCiAgICAgIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpOwogICAgICB9CiAgICB9CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGJlZm9yZV9wcmludDogZnVuY3Rpb24gKCkgewogICAgdGhpcy5zaG93X2FsbF9zbGlkZXMoKTsKICAgIHRoaXMuaGlkZV90b29sYmFyKCk7CiAgICBhbGVydCgiYmVmb3JlIHByaW50Iik7CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGFmdGVyX3ByaW50OiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMudmlld19hbGwpCiAgICB7CiAgICAgIHRoaXMuc2luZ2xlX3NsaWRlX3ZpZXcoKTsKICAgICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKICAgIH0KICAgIGFsZXJ0KCJhZnRlciBwcmludCIpOwogIH0sCgogIC8vICMjIyBPQlNPTEVURSAjIyMKICBwcmludF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYmVmb3JlX3ByaW50KCk7CiAgICB3aW5kb3cucHJpbnQoKTsKICAgIHRoaXMuYWZ0ZXJfcHJpbnQoKTsKICB9LAoKICAvLyAjIyMgT0JTT0xFVEUgPz8gIyMjCiAgdG9nZ2xlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLnZpZXdfYWxsKQogICAgewogICAgICB0aGlzLnNpbmdsZV9zbGlkZV92aWV3KCk7CiAgICAgIHRoaXMuc2hvd190b29sYmFyKCk7CiAgICAgIHRoaXMudmlld19hbGwgPSAwOwogICAgfQogICAgZWxzZQogICAgewogICAgICB0aGlzLnNob3dfYWxsX3NsaWRlcygpOwogICAgICB0aGlzLmhpZGVfdG9vbGJhcigpOwogICAgICB0aGlzLnZpZXdfYWxsID0gMTsKICAgIH0KICB9LAoKICAvLyBwcmVwYXJlIGZvciBwcmludGluZyAgIyMjIE9CU09MRVRFICMjIwogIHNob3dfYWxsX3NsaWRlczogZnVuY3Rpb24gKCkgewogICAgdGhpcy5yZW1vdmVfY2xhc3MoZG9jdW1lbnQuYm9keSwgInNpbmdsZV9zbGlkZSIpOwogICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICB9LAoKICAvLyByZXN0b3JlIGFmdGVyIHByaW50aW5nICAjIyMgT0JTT0xFVEUgIyMjCiAgc2luZ2xlX3NsaWRlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYWRkX2NsYXNzKGRvY3VtZW50LmJvZHksICJzaW5nbGVfc2xpZGUiKTsKICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgfSwKCiAgLy8gc3VwcHJlc3MgSUUncyBpbWFnZSB0b29sYmFyIHBvcCB1cAogIGhpZGVfaW1hZ2VfdG9vbGJhcjogZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLm5zX3BvcykKICAgIHsKICAgICAgdmFyIGltYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJJTUciKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKQogICAgICAgIGltYWdlc1tpXS5zZXRBdHRyaWJ1dGUoImdhbGxlcnlpbWciLCAibm8iKTsKICAgIH0KICB9LAoKICB1bmxvYWRlZDogZnVuY3Rpb24gKGUpIHsKICAgIC8vYWxlcnQoInVubG9hZGVkIik7CiAgfSwKCiAgLy8gU2FmYXJpIGFuZCBLb25xdWVyb3IgZG9uJ3QgeWV0IHN1cHBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSgpCiAgLy8gYW5kIHRoZXkgYWx3YXlzIHJlbG9hZCBwYWdlIHdoZW4gbG9jYXRpb24uaHJlZiBpcyB1cGRhdGVkCiAgaXNfS0hUTUw6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgICByZXR1cm4gKGFnZW50LmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSk7CiAgfSwKCiAgLy8gZmluZCBzbGlkZSBuYW1lIGZyb20gZmlyc3QgaDEgZWxlbWVudAogIC8vIGRlZmF1bHQgdG8gZG9jdW1lbnQgdGl0bGUgKyBzbGlkZSBudW1iZXIKICBzbGlkZV9uYW1lOiBmdW5jdGlvbiAoaW5kZXgpIHsKICAgIHZhciBuYW1lID0gbnVsbDsKICAgIHZhciBzbGlkZSA9IHRoaXMuc2xpZGVzW2luZGV4XTsKCiAgICB2YXIgaGVhZGluZyA9IHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKTsKCiAgICBpZiAoaGVhZGluZykKICAgICAgbmFtZSA9IHRoaXMuZXh0cmFjdF90ZXh0KGhlYWRpbmcpOwoKICAgIGlmICghbmFtZSkKICAgICAgbmFtZSA9IHRoaXMudGl0bGUgKyAiKCIgKyAoaW5kZXggKyAxKSArICIpIjsKCiAgICBuYW1lLnJlcGxhY2UoL1wmL2csICImYW1wOyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPC9nLCAiJmx0OyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPi9nLCAiJmd0OyIpOwoKICAgIHJldHVybiBuYW1lOwogIH0sCgogIC8vIGZpbmQgZmlyc3QgaDEgZWxlbWVudCBpbiBET00gdHJlZQogIGZpbmRfaGVhZGluZzogZnVuY3Rpb24gKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCBub2RlLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBudWxsOwoKICAgIGlmIChub2RlLm5vZGVOYW1lID09ICJIMSIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiaDEiKQogICAgICByZXR1cm4gbm9kZTsKCiAgICB2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7CgogICAgd2hpbGUgKGNoaWxkKQogICAgewogICAgICBub2RlID0gdGhpcy5maW5kX2hlYWRpbmcoY2hpbGQpOwoKICAgICAgaWYgKG5vZGUpCiAgICAgICAgcmV0dXJuIG5vZGU7CgogICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIC8vIHJlY3Vyc2l2ZWx5IGV4dHJhY3QgdGV4dCBmcm9tIERPTSB0cmVlCiAgZXh0cmFjdF90ZXh0OiBmdW5jdGlvbiAobm9kZSkgewogICAgaWYgKCFub2RlKQogICAgICByZXR1cm4gIiI7CgogICAgLy8gdGV4dCBub2RlcwogICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykKICAgICAgcmV0dXJuIG5vZGUubm9kZVZhbHVlOwoKICAgIC8vIGVsZW1lbnRzCiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKQogICAgewogICAgICBub2RlID0gbm9kZS5maXJzdENoaWxkOwogICAgICB2YXIgdGV4dCA9ICIiOwoKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB0ZXh0ID0gdGV4dCArIHRoaXMuZXh0cmFjdF90ZXh0KG5vZGUpOwogICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgICB9CgogICAgICByZXR1cm4gdGV4dDsKICAgIH0KCiAgICByZXR1cm4gIiI7CiAgfSwKCiAgLy8gZmluZCBjb3B5cmlnaHQgdGV4dCBmcm9tIG1ldGEgZWxlbWVudAogIGZpbmRfY29weXJpZ2h0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbmFtZSwgY29udGVudDsKICAgIHZhciBtZXRhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm1ldGEiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGEubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIG5hbWUgPSBtZXRhW2ldLmdldEF0dHJpYnV0ZSgibmFtZSIpOwogICAgICBjb250ZW50ID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoImNvbnRlbnQiKTsKCiAgICAgIGlmIChuYW1lID09ICJjb3B5cmlnaHQiKQogICAgICAgIHJldHVybiBjb250ZW50OwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIGZpbmRfc2l6ZV9hZGp1c3Q6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZm9udC1zaXplLWFkanVzdG1lbnQiKQogICAgICAgIHJldHVybiAxICogY29udGVudDsKICAgIH0KCiAgICByZXR1cm4gMTsKICB9LAoKICAvLyA8bWV0YSBuYW1lPSJkdXJhdGlvbiIgY29udGVudD0iMjAiIC8+ICBmb3IgMjAgbWludXRlcwogIGZpbmRfZHVyYXRpb246IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZHVyYXRpb24iKQogICAgICAgIHJldHVybiA2MDAwMCAqIGNvbnRlbnQ7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfSwKCiAgcmVwbGFjZV9ieV9ub25fYnJlYWtpbmdfc3BhY2U6IGZ1bmN0aW9uIChzdHIpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKQogICAgICBzdHJbaV0gPSAxNjA7CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBpcyB1c2Ugb2YgImxpIiBva2F5IGZvciB0ZXh0L2h0bWw/CiAgLy8gZm9yIFhIVE1MIGRvIHdlIGFsc28gbmVlZCB0byBzcGVjaWZ5IG5hbWVzcGFjZT8KICBpbml0X291dGxpbmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaXRlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGkiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKQogICAgewogICAgICB2YXIgdGFyZ2V0ID0gaXRlbXNbaV07CgogICAgICBpZiAoIXRoaXMuaGFzX2NsYXNzKHRhcmdldC5wYXJlbnROb2RlLCAib3V0bGluZSIpKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgdGFyZ2V0Lm9uY2xpY2sgPSB0aGlzLm91dGxpbmVfY2xpY2s7Ci8qICMjIyBtb3JlIHdvcmsgbmVlZGVkIGZvciBJRTYKICAgICAgaWYgKCF0aGlzLm5zX3BvcykKICAgICAgewogICAgICAgIHRhcmdldC5vbm1vdXNlb3ZlciA9IHRoaXMuaG92ZXJfb3V0bGluZTsKICAgICAgICB0YXJnZXQub25tb3VzZW91dCA9IHRoaXMudW5ob3Zlcl9vdXRsaW5lOwogICAgICB9CiovCiAgICAgIGlmICh0aGlzLmZvbGRhYmxlKHRhcmdldCkpCiAgICAgIHsKICAgICAgICB0YXJnZXQuZm9sZGFibGUgPSB0cnVlOwogICAgICAgIHRhcmdldC5vbmZvY3VzID0gZnVuY3Rpb24gKCkge3czY19zbGlkeS5vdXRsaW5lID0gdGhpczt9OwogICAgICAgIHRhcmdldC5vbmJsdXIgPSBmdW5jdGlvbiAoKSB7dzNjX3NsaWR5Lm91dGxpbmUgPSBudWxsO307CgogICAgICAgIGlmICghdGFyZ2V0LmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKSkKICAgICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwgIjAiKTsKCiAgICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKHRhcmdldCwgImV4cGFuZCIpKQogICAgICAgICAgdGhpcy51bmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB0aGlzLmZvbGQodGFyZ2V0KTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmFkZF9jbGFzcyh0YXJnZXQsICJub2ZvbGQiKTsKICAgICAgICB0YXJnZXQudmlzaWJsZSA9IHRydWU7CiAgICAgICAgdGFyZ2V0LmZvbGRhYmxlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAoKICBmb2xkYWJsZTogZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmICghaXRlbSB8fCBpdGVtLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgbm9kZSA9IGl0ZW0uZmlyc3RDaGlsZDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKQogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICBmb2xkOiBmdW5jdGlvbiAoaXRlbSkgewogICAgaWYgKGl0ZW0pCiAgICB7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJ1bmZvbGRlZCIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhpdGVtLCAiZm9sZGVkIik7CiAgICB9CgogICAgdmFyIG5vZGUgPSBpdGVtID8gaXRlbS5maXJzdENoaWxkIDogbnVsbDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKSAvLyBlbGVtZW50CiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyhub2RlLCAiaGlkZGVuIik7CiAgICAgIH0KCiAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgfQoKICAgIGl0ZW0udmlzaWJsZSA9IGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICB1bmZvbGQ6IGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoaXRlbSkKICAgIHsKICAgICAgdGhpcy5hZGRfY2xhc3MoaXRlbSwgInVuZm9sZGVkIik7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJmb2xkZWQiKTsKICAgIH0KCiAgICB2YXIgbm9kZSA9IGl0ZW0gPyBpdGVtLmZpcnN0Q2hpbGQgOiBudWxsOwoKICAgIHdoaWxlIChub2RlKQogICAgewogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIHRoaXMuaXNfYmxvY2sobm9kZSkpIC8vIGVsZW1lbnQKICAgICAgewogICAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImhpZGRlbiIpOwogICAgICB9CgogICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICBpdGVtLnZpc2libGUgPSB0cnVlOwogIH0sCgogIG91dGxpbmVfY2xpY2s6IGZ1bmN0aW9uIChlKSB7CiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgdmFyIHJpZ2h0Y2xpY2sgPSBmYWxzZTsKICAgIHZhciB0YXJnZXQgPSB3M2Nfc2xpZHkuZ2V0X3RhcmdldChlKTsKCiAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldC52aXNpYmxlID09IHVuZGVmaW5lZCkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKCF0YXJnZXQpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChlLndoaWNoKQogICAgICByaWdodGNsaWNrID0gKGUud2hpY2ggPT0gMyk7CiAgICBlbHNlIGlmIChlLmJ1dHRvbikKICAgICAgcmlnaHRjbGljayA9IChlLmJ1dHRvbiA9PSAyKTsKCiAgICBpZiAoIXJpZ2h0Y2xpY2sgJiYgdGFyZ2V0LnZpc2libGUgIT0gdW5kZWZpbmVkKQogICAgewogICAgICBpZiAodGFyZ2V0LmZvbGRhYmxlKQogICAgICB7CiAgICAgICAgaWYgKHRhcmdldC52aXNpYmxlKQogICAgICAgICAgdzNjX3NsaWR5LmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHRhcmdldCk7CiAgICAgIH0KCiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgYWRkX2luaXRpYWxfcHJvbXB0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgcHJvbXB0ID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICBwcm9tcHQuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJpbml0aWFsX3Byb21wdCIpOwoKICAgIHZhciBwMSA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoInAiKTsKICAgIHByb21wdC5hcHBlbmRDaGlsZChwMSk7CiAgICBwMS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgImhlbHAiKTsKCiAgICBpZiAodGhpcy5rZXlib2FyZGxlc3MpCiAgICAgIHAxLmlubmVySFRNTCA9ICJzd2lwZSBsZWZ0IHRvIG1vdmUgdG8gbmV4dCBzbGlkZSI7CiAgICBlbHNlCiAgICAgIHAxLmlubmVySFRNTCA9ICJTcGFjZSwgUmlnaHQgQXJyb3cgb3Igc3dpcGUgbGVmdCB0byBtb3ZlIHRvICIgKwogICAgICAgICAgICAgICAgICAgICAibmV4dCBzbGlkZSwgY2xpY2sgaGVscCBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIjsKCiAgICB0aGlzLmFkZF9saXN0ZW5lcihwcm9tcHQsICJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocHJvbXB0KTsKICAgICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICAKICAgICAgaWYgKGUuY2FuY2VsICE9IHVuZGVmaW5lZCkKICAgICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIAogICAgICBpZiAoZS5yZXR1cm5WYWx1ZSAhPSB1bmRlZmluZWQpCiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOwogICAgICAKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CgogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwcm9tcHQpOwogICAgdGhpcy5pbml0aWFsX3Byb21wdCA9IHByb21wdDsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChwcm9tcHQpO30sIDUwMDApOwogIH0sCgogIGFkZF90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY291bnRlciwgcGFnZTsKCiAgICAgdGhpcy50b29sYmFyID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICAgdGhpcy50b29sYmFyLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAidG9vbGJhciIpOwoKICAgICAvLyBhIHJlYXNvbmFibHkgYmVoYXZlZCBicm93c2VyCiAgICAgaWYgKHRoaXMubnNfcG9zIHx8ICF0aGlzLmllNikKICAgICB7CiAgICAgICB2YXIgcmlnaHQgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgICAgIHJpZ2h0LnNldEF0dHJpYnV0ZSgic3R5bGUiLCAiZmxvYXQ6IHJpZ2h0OyB0ZXh0LWFsaWduOiByaWdodCIpOwoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIikKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHJpZ2h0LmFwcGVuZENoaWxkKGNvdW50ZXIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHJpZ2h0KTsKCiAgICAgICB2YXIgbGVmdCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImRpdiIpOwogICAgICAgbGVmdC5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgInRleHQtYWxpZ246IGxlZnQiKTsKCiAgICAgICAvLyBnbG9iYWwgZW5kIG9mIHNsaWRlIGluZGljYXRvcgogICAgICAgdGhpcy5lb3MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICB0aGlzLmVvcy5pbm5lckhUTUwgPSAiKiAiOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZCh0aGlzLmVvcyk7CgogICAgICAgdmFyIGhlbHAgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgICBoZWxwLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHRoaXMuaGVscF9wYWdlKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIHRoaXMubG9jYWxpemUodGhpcy5oZWxwX3RleHQpKTsKICAgICAgIGhlbHAuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiaGVscD8iKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoaGVscCk7CiAgICAgICBoZWxwLnN0eWxlLmRpc3BsYXk9Im5vbmUiOyAKICAgICAgIHRoaXMuaGVscF9hbmNob3IgPSBoZWxwOyAgLy8gc2F2ZSBmb3IgZm9jdXMgaGFjawoKICAgICAgIHZhciBnYXAxID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiAiKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoZ2FwMSk7CgogICAgICAgdmFyIGNvbnRlbnRzID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiYSIpOwogICAgICAgY29udGVudHMuc2V0QXR0cmlidXRlKCJocmVmIiwgImphdmFzY3JpcHQ6dzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJDb250ZW50cyIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChnYXAyKTsKCiAgICAgICB2YXIgY29weXJpZ2h0ID0gdGhpcy5maW5kX2NvcHlyaWdodCgpOwoKICAgICAgIGlmIChjb3B5cmlnaHQpCiAgICAgICB7CiAgICAgICAgIHZhciBzcGFuID0gdGhpcy5jcmVhdGVfZWxlbWVudCgic3BhbiIpOwogICAgICAgICBzcGFuLmNsYXNzTmFtZSA9ICJjb3B5cmlnaHQiOwogICAgICAgICBzcGFuLmlubmVySFRNTCA9IGNvcHlyaWdodDsKICAgICAgICAgbGVmdC5hcHBlbmRDaGlsZChzcGFuKTsKICAgICAgIH0KCiAgICAgICB0aGlzLnRvb2xiYXIuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsICIwIik7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQobGVmdCk7CiAgICAgfQogICAgIGVsc2UgLy8gSUU2IHNvIG5lZWQgdG8gd29yayBhcm91bmQgaXRzIHBvb3IgQ1NTIHN1cHBvcnQKICAgICB7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUucG9zaXRpb24gPSAodGhpcy5pZTcgPyAiZml4ZWQiIDogImFic29sdXRlIik7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUuekluZGV4ID0gIjIwMCI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUud2lkdGggPSAiOTkuOSUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmhlaWdodCA9ICIxLjJlbSI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUudG9wID0gImF1dG8iOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmJvdHRvbSA9ICIwIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5sZWZ0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnRleHRBbGlnbiA9ICJsZWZ0IjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5mb250U2l6ZSA9ICI2MCUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmNvbG9yID0gInJlZCI7CiAgICAgICB0aGlzLnRvb2xiYXIuYm9yZGVyV2lkdGggPSAwOwogICAgICAgdGhpcy50b29sYmFyLmNsYXNzTmFtZSA9ICJ0b29sYmFyIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIC8vIHdvdWxkIGxpa2UgdG8gaGF2ZSBoZWxwIHRleHQgbGVmdCBhbGlnbmVkCiAgICAgICAvLyBhbmQgcGFnZSBjb3VudGVyIHJpZ2h0IGFsaWduZWQsIGZsb2F0aW5nCiAgICAgICAvLyBkaXYncyBkb24ndCB3b3JrLCBzbyBpbnN0ZWFkIHVzZSBuZXN0ZWQKICAgICAgIC8vIGFic29sdXRlbHkgcG9zaXRpb25lZCBkaXYncy4KCiAgICAgICB2YXIgc3AgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICBzcC5pbm5lckhUTUwgPSAiJm5ic3A7Jm5ic3A7KiZuYnNwOyI7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoc3ApOwogICAgICAgdGhpcy5lb3MgPSBzcDsgIC8vIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKCiAgICAgICB2YXIgaGVscCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJocmVmIiwgdGhpcy5oZWxwX3BhZ2UpOwogICAgICAgaGVscC5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSh0aGlzLmhlbHBfdGV4dCkpOwogICAgICAgaGVscC5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJoZWxwPyIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGhlbHApOwogICAgICAgdGhpcy5oZWxwX2FuY2hvciA9IGhlbHA7ICAvLyBzYXZlIGZvciBmb2N1cyBoYWNrCgogICAgICAgdmFyIGdhcDEgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDEpOwoKICAgICAgIHZhciBjb250ZW50cyA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGNvbnRlbnRzLnNldEF0dHJpYnV0ZSgiaHJlZiIsICJqYXZhc2NyaXB0OnRvZ2dsZVRhYmxlT2ZDb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiLmxvY2FsaXplKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJjb250ZW50cz8iKTsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDIpOwoKICAgICAgIHZhciBjb3B5cmlnaHQgPSB0aGlzLmZpbmRfY29weXJpZ2h0KCk7CgogICAgICAgaWYgKGNvcHlyaWdodCkKICAgICAgIHsKICAgICAgICAgdmFyIHNwYW4gPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICAgIHNwYW4uaW5uZXJIVE1MID0gY29weXJpZ2h0OwogICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gImJsYWNrIjsKICAgICAgICAgc3Bhbi5zdHlsZS5tYXJnaW5MZWZ0ID0gIjAuNWVtIjsKICAgICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHNwYW4pOwogICAgICAgfQoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKQogICAgICAgY291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICAgICBjb3VudGVyLnN0eWxlLndpZHRoID0gImF1dG8iOyAvLyIyMCUiOwogICAgICAgY291bnRlci5zdHlsZS5oZWlnaHQgPSAiMS4yZW0iOwogICAgICAgY291bnRlci5zdHlsZS50b3AgPSAiYXV0byI7CiAgICAgICBjb3VudGVyLnN0eWxlLmJvdHRvbSA9IDA7CiAgICAgICBjb3VudGVyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgY291bnRlci5zdHlsZS50ZXh0QWxpZ24gPSAicmlnaHQiOwogICAgICAgY291bnRlci5zdHlsZS5jb2xvciA9ICJyZWQiOwogICAgICAgY291bnRlci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb3VudGVyKTsKICAgICB9CgogICAgIC8vIGVuc3VyZSB0aGF0IGNsaWNrIGlzbid0IHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwYWdlCiAgICAgdGhpcy50b29sYmFyLm9uY2xpY2sgPQogICAgICAgICBmdW5jdGlvbiAoZSkgewogICAgICAgICAgIGlmICghZSkKICAgICAgICAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsKCiAgICAgICAgICAgaWYgKCF0YXJnZXQgJiYgZS5zcmNFbGVtZW50KQogICAgICAgICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgICAgICAgICAvLyB3b3JrIGFyb3VuZCBTYWZhcmkgYnVnCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPSAiYSIpCiAgICAgICAgICAgICB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX2NsaWNrKGUpOwogICAgICAgICB9OwoKICAgICB0aGlzLnNsaWRlX251bWJlcl9lbGVtZW50ID0gY291bnRlcjsKICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKGZhbHNlKTsKICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudG9vbGJhcik7CiAgfSwKCiAgLy8gd3lzaXd5ZyBlZGl0b3JzIG1ha2UgaXQgaGFyZCB0byB1c2UgZGl2IGVsZW1lbnRzCiAgLy8gZS5nLiBhbWF5YSBsb3NlcyB0aGUgZGl2IHdoZW4geW91IGNvcHkgYW5kIHBhc3RlCiAgLy8gdGhpcyBmdW5jdGlvbiB3cmFwcyBkaXYgZWxlbWVudHMgYXJvdW5kIGltcGxpY2l0CiAgLy8gc2xpZGVzIHdoaWNoIHN0YXJ0IHdpdGggYW4gaDEgZWxlbWVudCBhbmQgY29udGludWUKICAvLyB1cCB0byB0aGUgbmV4dCBoZWFkaW5nIG9yIGRpdiBlbGVtZW50CiAgd3JhcF9pbXBsaWNpdF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBpLCBoZWFkaW5nLCBub2RlLCBuZXh0LCBkaXY7CiAgICB2YXIgaGVhZGluZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaDEiKTsKCiAgICBpZiAoIWhlYWRpbmdzKQogICAgICByZXR1cm47CgogICAgZm9yIChpID0gMDsgaSA8IGhlYWRpbmdzLmxlbmd0aDsgKytpKQogICAgewogICAgICBoZWFkaW5nID0gaGVhZGluZ3NbaV07CgogICAgICBpZiAoaGVhZGluZy5wYXJlbnROb2RlICE9IGRvY3VtZW50LmJvZHkpCiAgICAgICAgY29udGludWU7CgogICAgICBub2RlID0gaGVhZGluZy5uZXh0U2libGluZzsKCiAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJzbGlkZSIpOwogICAgICBkb2N1bWVudC5ib2R5LnJlcGxhY2VDaGlsZChkaXYsIGhlYWRpbmcpOwogICAgICBkaXYuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CgogICAgICB3aGlsZSAobm9kZSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIC8vIGFuIGVsZW1lbnQKICAgICAgICB7CiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkgxIiB8fCBub2RlLm5vZGVOYW1lID09ICJoMSIpCiAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkRJViIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiZGl2IikKICAgICAgICAgICB7CiAgICAgICAgICAgICBpZiAodGhpcy5oYXNfY2xhc3Mobm9kZSwgInNsaWRlIikpCiAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhub2RlLCAiaGFuZG91dCIpKQogICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZzsKICAgICAgICBub2RlID0gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZSk7CiAgICAgICAgbm9kZSA9IG5leHQ7CiAgICAgIH0gCiAgICB9CiAgfSwKCiAgYXR0YWNoX3RvdWNoX2hhbmRlcnM6IGZ1bmN0aW9uKHNsaWRlcykKICB7CiAgICB2YXIgaSwgc2xpZGU7CgogICAgZm9yIChpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgc2xpZGUgPSBzbGlkZXNbaV07CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2hzdGFydCIsIHRoaXMudG91Y2hzdGFydCk7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2htb3ZlIiwgdGhpcy50b3VjaG1vdmUpOwogICAgICB0aGlzLmFkZF9saXN0ZW5lcihzbGlkZSwgInRvdWNoZW5kIiwgdGhpcy50b3VjaGVuZCk7CiAgICB9CiAgfSwKCi8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIHNsaWRlcwogIGNvbGxlY3Rfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGVzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgInNsaWRlIikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgc2xpZGUgdG8gY29sbGVjdGlvbgogICAgICAgIHNsaWRlc1tzbGlkZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gaGlkZSBlYWNoIHNsaWRlIGFzIGl0IGlzIGZvdW5kCiAgICAgICAgdGhpcy5hZGRfY2xhc3MoZGl2LCAiaGlkZGVuIik7CgogICAgICAgIC8vIGFkZCBkdW1teSA8YnIvPiBhdCBlbmQgZm9yIHNjcm9sbGluZyBoYWNrCiAgICAgICAgdmFyIG5vZGUxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZTEpOwogICAgICAgIHZhciBub2RlMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIik7CiAgICAgICAgZGl2LmFwcGVuZENoaWxkKG5vZGUyKTsKICAgICAgfQogICAgICBlbHNlIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJiYWNrZ3JvdW5kIikpCiAgICAgIHsgIC8vIHdvcmsgYXJvdW5kIGZvciBGaXJlZm94IFNWRyByZWxvYWQgYnVnCiAgICAgICAgLy8gd2hpY2ggb3RoZXJ3aXNlIHJlcGxhY2VzIDFzdCBTVkcgZ3JhcGhpYyB3aXRoIDJuZAogICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgfQogICAgfQoKICAgIHRoaXMuc2xpZGVzID0gc2xpZGVzOwogIH0sCgogIC8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIDxkaXYgY2xhc3M9ImhhbmRvdXQiPgogIGNvbGxlY3Rfbm90ZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBub3RlcyA9IG5ldyBBcnJheSgpOwogICAgdmFyIGRpdnMgPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpdnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGRpdiA9IGRpdnMuaXRlbShpKTsKCiAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJoYW5kb3V0IikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgbm90ZSB0byBjb2xsZWN0aW9uCiAgICAgICAgbm90ZXNbbm90ZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gYW5kIGhpZGUgaXQKICAgICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJoaWRkZW4iKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMubm90ZXMgPSBub3RlczsKICB9LAoKICAvLyByZXR1cm4gbmV3IGFycmF5IG9mIGFsbCA8ZGl2IGNsYXNzPSJiYWNrZ3JvdW5kIj4KICAvLyBpbmNsdWRpbmcgbmFtZWQgYmFja2dyb3VuZHMgZS5nLiBjbGFzcz0iYmFja2dyb3VuZCB0aXRsZXBhZ2UiCiAgY29sbGVjdF9iYWNrZ3JvdW5kczogZnVuY3Rpb24gKCkgewogICAgdmFyIGJhY2tncm91bmRzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgImJhY2tncm91bmQiKSkKICAgICAgewogICAgICAgIC8vIGFkZCBiYWNrZ3JvdW5kIHRvIGNvbGxlY3Rpb24KICAgICAgICBiYWNrZ3JvdW5kc1tiYWNrZ3JvdW5kcy5sZW5ndGhdID0gZGl2OwoKICAgICAgICAvLyBhbmQgaGlkZSBpdAogICAgICAgIHRoaXMuYWRkX2NsYXNzKGRpdiwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CgogICAgdGhpcy5iYWNrZ3JvdW5kcyA9IGJhY2tncm91bmRzOwogIH0sCgogIC8vIHNldCBjbGljayBoYW5kbGVycyBvbiBhbGwgYW5jaG9ycwogIHBhdGNoX2FuY2hvcnM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdzNjX3NsaWR5OwogICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgLy8gY29tcGFyZSB0aGlzLmhyZWYgd2l0aCBsb2NhdGlvbi5ocmVmCiAgICAgIC8vIGZvciBsaW5rIHRvIGFub3RoZXIgc2xpZGUgaW4gdGhpcyBkb2MKCiAgICAgIGlmIChzZWxmLnBhZ2VfYWRkcmVzcyh0aGlzLmhyZWYpID09IHNlbGYucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpKQogICAgICB7CiAgICAgICAgLy8geWVzLCBzbyBmaW5kIG5ldyBzbGlkZSBudW1iZXIKICAgICAgICB2YXIgbmV3c2xpZGVudW0gPSBzZWxmLmZpbmRfc2xpZGVfbnVtYmVyKHRoaXMuaHJlZik7CgogICAgICAgIGlmIChuZXdzbGlkZW51bSAhPSBzZWxmLnNsaWRlX251bWJlcikKICAgICAgICB7CiAgICAgICAgICB2YXIgc2xpZGUgPSBzZWxmLnNsaWRlc1tzZWxmLnNsaWRlX251bWJlcl07CiAgICAgICAgICBzZWxmLmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICAgc2VsZi5zbGlkZV9udW1iZXIgPSBuZXdzbGlkZW51bTsKICAgICAgICAgIHNsaWRlID0gc2VsZi5zbGlkZXNbc2VsZi5zbGlkZV9udW1iZXJdOwogICAgICAgICAgc2VsZi5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAgIHNlbGYuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2UKICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihldmVudCk7CgovLyAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09IG51bGwpCi8vICAgICAgICBsb2NhdGlvbi5ocmVmID0gdGhpcy5ocmVmOwoKICAgICAgdGhpcy5ibHVyKCk7CiAgICAgIHNlbGYuZGlzYWJsZV9zbGlkZV9jbGljayA9IHRydWU7CiAgICB9OwoKICAgIHZhciBhbmNob3JzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5jaG9ycy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKQogICAgICAgIGFuY2hvcnNbaV0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBoYW5kbGVyLCBmYWxzZSk7CiAgICAgIGVsc2UKICAgICAgICBhbmNob3JzW2ldLmF0dGFjaEV2ZW50KCJvbmNsaWNrIiwgaGFuZGxlcik7CiAgICB9CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBzZWUgd2hpY2ggZnVuY3Rpb25zIGFyZSBpbnZva2VkIHZpYSBzZXRUaW1lb3V0CiAgLy8gZWl0aGVyIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgZm9yIHVzZSBvZiB3M2Nfc2xpZHkgdnMgdGhpcwogIHNob3dfc2xpZGVfbnVtYmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSB3M2Nfc2xpZHkuZ2V0X3RpbWVyKCk7CiAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyX2VsZW1lbnQuaW5uZXJIVE1MID0gdGltZXIgKyB3M2Nfc2xpZHkubG9jYWxpemUoInNsaWRlIikgKyAiICIgKwogICAgICAgICAgICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICsgMSkgKyAiLyIgKyB3M2Nfc2xpZHkuc2xpZGVzLmxlbmd0aDsKICB9LAoKICAvLyBldmVyeSAyMDBtUyBjaGVjayBpZiB0aGUgbG9jYXRpb24gaGFzIGJlZW4gY2hhbmdlZCBhcyBhCiAgLy8gcmVzdWx0IG9mIHRoZSB1c2VyIGFjdGl2YXRpbmcgdGhlIEJhY2sgYnV0dG9uL21lbnUgaXRlbQogIC8vIGRvZXNuJ3Qgd29yayBmb3IgT3BlcmEgPCA5LjUKICBjaGVja19sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwoKICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID4gMCAmJiAoaGFzaCA9PSAiIiB8fCBoYXNoID09ICIjIikpCiAgICAgIHczY19zbGlkeS5nb3RvX3NsaWRlKDApOwogICAgZWxzZSBpZiAoaGFzaC5sZW5ndGggPiAyICYmIGhhc2ggIT0gIiMoIisodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSsiKSIpCiAgICB7CiAgICAgIHZhciBudW0gPSBwYXJzZUludChsb2NhdGlvbi5oYXNoLnN1YnN0cigyKSk7CgogICAgICBpZiAoIWlzTmFOKG51bSkpCiAgICAgICAgdzNjX3NsaWR5LmdvdG9fc2xpZGUobnVtLTEpOwogICAgfQoKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ICYmIHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgewogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ID4gMCkKICAgICAgICB3M2Nfc2xpZHkudGltZV9sZWZ0IC09IDIwMDsKICAgIH0gCiAgfSwKCiAgZ2V0X3RpbWVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSAiIjsKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0KQogICAgewogICAgICB2YXIgbWlucywgc2VjczsKICAgICAgc2VjcyA9IE1hdGguZmxvb3IodzNjX3NsaWR5LnRpbWVfbGVmdC8xMDAwKTsKICAgICAgbWlucyA9IE1hdGguZmxvb3Ioc2VjcyAvIDYwKTsKICAgICAgc2VjcyA9IHNlY3MgJSA2MDsKICAgICAgdGltZXIgPSAobWlucyA/IG1pbnMrIm0iIDogIiIpICsgc2VjcyArICJzICI7CiAgICB9CgogICAgcmV0dXJuIHRpbWVyOwogIH0sCgogIC8vIHRoaXMgZG9lc24ndCBwdXNoIGxvY2F0aW9uIG9udG8gaGlzdG9yeSBzdGFjayBmb3IgSUUKICAvLyBmb3Igd2hpY2ggYSBoaWRkZW4gaWZyYW1lIGhhY2sgaXMgbmVlZGVkOiBsb2FkIHBhZ2UgaW50bwogIC8vIHRoZSBpZnJhbWUgd2l0aCBzY3JpcHQgdGhhdCBzZXQncyBwYXJlbnQncyBsb2NhdGlvbi5oYXNoCiAgLy8gYnV0IHRoYXQgd29uJ3Qgd29yayBmb3Igc3RhbmRhbG9uZSB1c2UgdW5sZXNzIHdlIGNhbgogIC8vIGNyZWF0ZSB0aGUgcGFnZSBkeW5hbWljYWxseSB2aWEgYSBqYXZhc2NyaXB0OiBVUkwKICAvLyAjIyMgdXNlIGhpc3RvcnkucHVzaFN0YXRlIGlmIGF2YWlsYWJsZQogIHNldF9sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgIHZhciB1cmkgPSB3M2Nfc2xpZHkucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpOwogICAgIHZhciBoYXNoID0gIiMoIiArICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyKzEpICsgIikiOwoKICAgICBpZiAodzNjX3NsaWR5LnNsaWRlX251bWJlciA+PSAwKQogICAgICAgdXJpID0gdXJpICsgaGFzaDsKCiAgICAgaWYgKHR5cGVvZihoaXN0b3J5LnB1c2hTdGF0ZSkgIT0gInVuZGVmaW5lZCIgJiYgbG9jYXRpb24ucHJvdG9jb2wgIT09ICJmaWxlOiIpCiAgICAgewogICAgICAgZG9jdW1lbnQudGl0bGUgPSB3M2Nfc2xpZHkudGl0bGUgKyAiICgiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CiAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZSgwLCBkb2N1bWVudC50aXRsZSwgaGFzaCk7CiAgICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICAgIHczY19zbGlkeS5ub3RpZnlfb2JzZXJ2ZXJzKCk7CiAgICAgICByZXR1cm47CiAgICAgfQoKICAgICBpZiAodzNjX3NsaWR5LmllICYmICh3M2Nfc2xpZHkuaWU2IHx8IHczY19zbGlkeS5pZTcpKQogICAgICAgdzNjX3NsaWR5LnB1c2hfaGFzaChoYXNoKTsKCiAgICAgaWYgKHVyaSAhPSBsb2NhdGlvbi5ocmVmKSAvLyAmJiAha2h0bWwKICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJpOwoKICAgICBpZiAodGhpcy5raHRtbCkKICAgICAgICBoYXNoID0gIigiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CgogICAgIGlmICghdGhpcy5pZSAmJiBsb2NhdGlvbi5oYXNoICE9IGhhc2ggJiYgbG9jYXRpb24uaGFzaCAhPSAiIikKICAgICAgIGxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICB3M2Nfc2xpZHkubm90aWZ5X29ic2VydmVycygpOwogIH0sCgogIG5vdGlmeV9vYnNlcnZlcnM6IGZ1bmN0aW9uICgpCiAgewogICAgdmFyIHNsaWRlID0gdGhpcy5zbGlkZXNbdGhpcy5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICAgIHRoaXMub2JzZXJ2ZXJzW2ldKHRoaXMuc2xpZGVfbnVtYmVyKzEsIHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKS5pbm5lclRleHQsIGxvY2F0aW9uLmhyZWYpOwogIH0sCgogIGFkZF9vYnNlcnZlcjogZnVuY3Rpb24gKG9ic2VydmVyKQogIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChvYnNlcnZlciA9PSB0aGlzLm9ic2VydmVyc1tpXSkKICAgICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7CiAgfSwKCiAgcmVtb3ZlX29ic2VydmVyOiBmdW5jdGlvbiAobykKICB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgKytpKQogICAgewogICAgICBpZiAob2JzZXJ2ZXIgPT0gdGhpcy5vYnNlcnZlcnNbaV0pCiAgICAgIHsKICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwxKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sCgogIHBhZ2VfYWRkcmVzczogZnVuY3Rpb24gKHVyaSkgewogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIGlmIChpIDwgMCkKICAgICAgaSA9IHVyaS5pbmRleE9mKCIlMjMiKTsKCiAgICAvLyBjaGVjayBpZiBhbmNob3IgaXMgZW50aXJlIHBhZ2UKCiAgICBpZiAoaSA8IDApCiAgICAgIHJldHVybiB1cmk7ICAvLyB5ZXMKCiAgICByZXR1cm4gdXJpLnN1YnN0cigwLCBpKTsKICB9LAoKICAvLyBvbmx5IHVzZWQgZm9yIElFNiBhbmQgSUU3CiAgb25fZnJhbWVfbG9hZGVkOiBmdW5jdGlvbiAoaGFzaCkgewogICAgbG9jYXRpb24uaGFzaCA9IGhhc2g7CiAgICB2YXIgdXJpID0gdzNjX3NsaWR5LnBhZ2VfYWRkcmVzcyhsb2NhdGlvbi5ocmVmKTsKICAgIGxvY2F0aW9uLmhyZWYgPSB1cmkgKyBoYXNoOwogIH0sCgogIC8vIGhpc3RvcnkgaGFjayB3aXRoIHRoYW5rcyB0byBCZXJ0cmFuZCBMZSBSb3kKICBwdXNoX2hhc2g6IGZ1bmN0aW9uIChoYXNoKSB7CiAgICBpZiAoaGFzaCA9PSAiIikgaGFzaCA9ICIjKDEpIjsKICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgIHZhciBkb2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGlzdG9yeUZyYW1lIikuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgIGRvYy5vcGVuKCJqYXZhc2NyaXB0Oic8aHRtbD48L2h0bWw+JyIpOwogICAgZG9jLndyaXRlKCI8aHRtbD48aGVhZD48c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj53aW5kb3cucGFyZW50LnczY19zbGlkeS5vbl9mcmFtZV9sb2FkZWQoJyIrCiAgICAgIChoYXNoKSArICInKTs8L3NjcmlwdD48L2hlYWQ+PGJvZHk+aGVsbG8gbXVtPC9ib2R5PjwvaHRtbD4iKTsKICAgICAgZG9jLmNsb3NlKCk7CiAgfSwKCiAgLy8gZmluZCBjdXJyZW50IHNsaWRlIGJhc2VkIHVwb24gbG9jYXRpb24KICAvLyBmaXJzdCBmaW5kIHRhcmdldCBhbmNob3IgYW5kIHRoZW4gbG9vawogIC8vIGZvciBhc3NvY2lhdGVkIGRpdiBlbGVtZW50IGVuY2xvc2luZyBpdAogIC8vIGZpbmFsbHkgbWFwIHRoYXQgdG8gc2xpZGUgbnVtYmVyCiAgZmluZF9zbGlkZV9udW1iZXI6IGZ1bmN0aW9uICh1cmkpIHsKICAgIC8vIGZpcnN0IGdldCBhbmNob3IgZnJvbSBwYWdlIGxvY2F0aW9uCgogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIC8vIGNoZWNrIGlmIGFuY2hvciBpcyBlbnRpcmUgcGFnZQogICAgaWYgKGkgPCAwKQogICAgICByZXR1cm4gMDsgIC8vIHllcwoKICAgIHZhciBhbmNob3IgPSB1bmVzY2FwZSh1cmkuc3Vic3RyKGkrMSkpOwoKICAgIC8vIG5vdyB1c2UgYW5jaG9yIGFzIFhNTCBJRCB0byBmaW5kIHRhcmdldAogICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFuY2hvcik7CgogICAgaWYgKCF0YXJnZXQpCiAgICB7CiAgICAgIC8vIGRvZXMgYW5jaG9yIGxvb2sgbGlrZSAiKDIpIiBmb3Igc2xpZGUgMiA/PwogICAgICAvLyB3aGVyZSBmaXJzdCBzbGlkZSBpcyAoMSkKICAgICAgdmFyIHJlID0gL1woKFxkKStcKS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgIHZhciBudW0gPSBwYXJzZUludChhbmNob3Iuc3Vic3RyaW5nKDEsIGFuY2hvci5sZW5ndGgtMSkpOwoKICAgICAgICBpZiAobnVtID4gdGhpcy5zbGlkZXMubGVuZ3RoKQogICAgICAgICAgbnVtID0gMTsKCiAgICAgICAgaWYgKC0tbnVtIDwgMCkKICAgICAgICAgIG51bSA9IDA7CgogICAgICAgIHJldHVybiBudW07CiAgICAgIH0KCiAgICAgIC8vIGFjY2VwdCBbMl0gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5CiAgICAgIHJlID0gL1xbKFxkKStcXS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgICB2YXIgbnVtID0gcGFyc2VJbnQoYW5jaG9yLnN1YnN0cmluZygxLCBhbmNob3IubGVuZ3RoLTEpKTsKCiAgICAgICAgIGlmIChudW0gPiB0aGlzLnNsaWRlcy5sZW5ndGgpCiAgICAgICAgICAgIG51bSA9IDE7CgogICAgICAgICBpZiAoLS1udW0gPCAwKQogICAgICAgICAgICBudW0gPSAwOwoKICAgICAgICAgcmV0dXJuIG51bTsKICAgICAgfQoKICAgICAgLy8gb2ggZGVhciB1bmtub3duIGFuY2hvcgogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICAvLyBzZWFyY2ggZm9yIGVuY2xvc2luZyBzbGlkZQoKICAgIHdoaWxlICh0cnVlKQogICAgewogICAgICAvLyBicm93c2VyIGNvZXJjZXMgaHRtbCBlbGVtZW50cyB0byB1cHBlcmNhc2UhCiAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSAiZGl2IiAmJgogICAgICAgICAgICB0aGlzLmhhc19jbGFzcyh0YXJnZXQsICJzbGlkZSIpKQogICAgICB7CiAgICAgICAgLy8gZm91bmQgdGhlIHNsaWRlIGVsZW1lbnQKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgLy8gb3RoZXJ3aXNlIHRyeSBwYXJlbnQgZWxlbWVudCBpZiBhbnkKCiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgaWYgKCF0YXJnZXQpCiAgICAgIHsKICAgICAgICByZXR1cm4gMDsgICAvLyBubyBsdWNrIQogICAgICB9CiAgICB9OwoKICAgIGZvciAoaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChzbGlkZXNbaV0gPT0gdGFyZ2V0KQogICAgICAgIHJldHVybiBpOyAgLy8gc3VjY2VzcwogICAgfQoKICAgIC8vIG9oIGRlYXIgc3RpbGwgbm8gbHVjawogICAgcmV0dXJuIDA7CiAgfSwKCiAgcHJldmlvdXNfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZTsKCiAgICAgIGlmICgoaW5jcmVtZW50YWwgfHwgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9PSAwKSAmJiB3M2Nfc2xpZHkubGFzdF9zaG93biAhPSBudWxsKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkuaGlkZV9wcmV2aW91c19pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoZmFsc2UpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKCiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgLSAxOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICBpZiAoIXczY19zbGlkeS5uc19wb3MpCiAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgfQogIH0sCgogIG5leHRfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZSwgbGFzdCA9IHczY19zbGlkeS5sYXN0X3Nob3duOwoKICAgICAgaWYgKGluY3JlbWVudGFsIHx8IHczY19zbGlkeS5zbGlkZV9udW1iZXIgPT0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5yZXZlYWxfbmV4dF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKCiAgICAgIGlmICgoIWluY3JlbWVudGFsIHx8IHczY19zbGlkeS5sYXN0X3Nob3duID09IG51bGwpICYmCiAgICAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgKyAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlIGlmICghdzNjX3NsaWR5Lmxhc3Rfc2hvd24pCiAgICAgIHsKICAgICAgICAgaWYgKGxhc3QgJiYgaW5jcmVtZW50YWwpCiAgICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBsYXN0OwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgIH0KICB9LAoKICAvLyB0byBmaXJzdCBzbGlkZSB3aXRoIG5vdGhpbmcgcmV2ZWFsZWQKICAvLyBpLmUuIHN0YXRlIGF0IHN0YXJ0IG9mIHByZXNlbnRhdGlvbgogIGZpcnN0X3NsaWRlOiBmdW5jdGlvbiAoKSB7CiAgICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgewogICAgICAgdmFyIHNsaWRlOwoKICAgICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICE9IDApCiAgICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IDA7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgfQoKICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cygKICAgICAgICAgIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKICAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgICB9CiAgfSwKCiAgLy8gZ290byBsYXN0IHNsaWRlIHdpdGggZXZlcnl0aGluZyByZXZlYWxlZAogIC8vIGkuZS4gc3RhdGUgYXQgZW5kIG9mIHByZXNlbnRhdGlvbgogIGxhc3Rfc2xpZGU6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICB2YXIgc2xpZGU7CgogICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7IC8vcmV2ZWFsTmV4dEl0ZW0obGFzdFNob3duKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkubGFzdF9zaG93biA9PSBudWxsICYmCiAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKCiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgidmlzaWJsZSIpOwogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5wcmV2aW91c19pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgIH0KICB9LAoKCiAgLy8gIyMjIGNoZWNrIHRoaXMgYW5kIGNvbnNpZGVyIGFkZC9yZW1vdmUgY2xhc3MKICBzZXRfZW9zX3N0YXR1czogZnVuY3Rpb24gKHN0YXRlKSB7CiAgICBpZiAodGhpcy5lb3MpCiAgICAgIHRoaXMuZW9zLnN0eWxlLmNvbG9yID0gKHN0YXRlID8gInJnYigyNDAsMjQwLDI0MCkiIDogInJlZCIpOwogIH0sCgogIC8vIGZpcnN0IHNsaWRlIGlzIDAKICBnb3RvX3NsaWRlOiBmdW5jdGlvbiAobnVtKSB7CiAgICAvL2FsZXJ0KCJnb2luZyB0byBzbGlkZSAiICsgKG51bSsxKSk7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IG51bTsKICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlX251bWJlcigpOwogIH0sCgoKICBzaG93X3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuc3luY19iYWNrZ3JvdW5kKHNsaWRlKTsKICAgIHRoaXMucmVtb3ZlX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CgogICAgLy8gd29yayBhcm91bmQgSUU5IG9iamVjdCByZW5kZXJpbmcgYnVnCiAgICBzZXRUaW1lb3V0KCJ3aW5kb3cuc2Nyb2xsVG8oMCwwKTsiLCAxKTsKICB9LAoKICBoaWRlX3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuYWRkX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CiAgfSwKCiAgc2V0X2ZvY3VzOiBmdW5jdGlvbiAoZWxlbWVudCkKICB7CiAgICBpZiAoZWxlbWVudCkKICAgICAgZWxlbWVudC5mb2N1cygpOwogICAgZWxzZQogICAgewogICAgICB3M2Nfc2xpZHkuaGVscF9hbmNob3IuZm9jdXMoKTsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgdzNjX3NsaWR5LmhlbHBfYW5jaG9yLmJsdXIoKTsKICAgICAgfSwgMSk7CiAgICB9CiAgfSwKCiAgLy8gc2hvdyBqdXN0IHRoZSBiYWNrZ3JvdW5kcyBwZXJ0aW5lbnQgdG8gdGhpcyBzbGlkZQogIC8vIHdoZW4gc2xpZGUgYmFja2dyb3VuZC1jb2xvciBpcyB0cmFuc3BhcmVudAogIC8vIHRoaXMgc2hvdWxkIG5vdyB3b3JrIHdpdGggcmdiYSBjb2xvciB2YWx1ZXMKICBzeW5jX2JhY2tncm91bmQ6IGZ1bmN0aW9uIChzbGlkZSkgewogICAgdmFyIGJhY2tncm91bmQ7CiAgICB2YXIgYmdDb2xvcjsKCiAgICBpZiAoc2xpZGUuY3VycmVudFN0eWxlKQogICAgICBiZ0NvbG9yID0gc2xpZGUuY3VycmVudFN0eWxlWyJiYWNrZ3JvdW5kQ29sb3IiXTsKICAgIGVsc2UgaWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3KQogICAgewogICAgICB2YXIgc3R5bGVzID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShzbGlkZSxudWxsKTsKCiAgICAgIGlmIChzdHlsZXMpCiAgICAgICAgYmdDb2xvciA9IHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCJiYWNrZ3JvdW5kLWNvbG9yIik7CiAgICAgIGVsc2UgLy8gYnJva2VuIGltcGxlbWVudGF0aW9uIHByb2JhYmx5IGR1ZSBTYWZhcmkgb3IgS29ucXVlcm9yCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJkZWZlY3RpdmUgaW1wbGVtZW50YXRpb24gb2YgZ2V0Q29tcHV0ZWRTdHlsZSgpIik7CiAgICAgICAgYmdDb2xvciA9ICJ0cmFuc3BhcmVudCI7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgICAgYmdDb2xvciA9PSAidHJhbnNwYXJlbnQiOwoKICAgIGlmIChiZ0NvbG9yID09ICJ0cmFuc3BhcmVudCIgfHwKICAgICAgICBiZ0NvbG9yLmluZGV4T2YoInJnYmEiKSA+PSAwIHx8CiAgICAgICAgYmdDb2xvci5pbmRleE9mKCJvcGFjaXR5IikgPj0gMCkKICAgIHsKICAgICAgdmFyIHNsaWRlQ2xhc3MgPSB0aGlzLmdldF9jbGFzc19saXN0KHNsaWRlKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgICAgewogICAgICAgIGJhY2tncm91bmQgPSB0aGlzLmJhY2tncm91bmRzW2ldOwoKICAgICAgICB2YXIgYmdDbGFzcyA9IHRoaXMuZ2V0X2NsYXNzX2xpc3QoYmFja2dyb3VuZCk7CgogICAgICAgIGlmICh0aGlzLm1hdGNoaW5nX2JhY2tncm91bmQoc2xpZGVDbGFzcywgYmdDbGFzcykpCiAgICAgICAgICB0aGlzLnJlbW92ZV9jbGFzcyhiYWNrZ3JvdW5kLCAiaGlkZGVuIik7CiAgICAgICAgZWxzZQogICAgICAgICAgdGhpcy5hZGRfY2xhc3MoYmFja2dyb3VuZCwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CiAgICBlbHNlIC8vIGZvcmNpYmx5IGhpZGUgYWxsIGJhY2tncm91bmRzCiAgICAgIHRoaXMuaGlkZV9iYWNrZ3JvdW5kcygpOwogIH0sCgogIGhpZGVfYmFja2dyb3VuZHM6IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgYmFja2dyb3VuZCA9IHRoaXMuYmFja2dyb3VuZHNbaV07CiAgICAgIHRoaXMuYWRkX2NsYXNzKGJhY2tncm91bmQsICJoaWRkZW4iKTsKICAgIH0KICB9LAoKICAvLyBjb21wYXJlIGNsYXNzZXMgZm9yIHNsaWRlIGFuZCBiYWNrZ3JvdW5kCiAgbWF0Y2hpbmdfYmFja2dyb3VuZDogZnVuY3Rpb24gKHNsaWRlQ2xhc3MsIGJnQ2xhc3MpIHsKICAgIHZhciBpLCBjb3VudCwgcGF0dGVybiwgcmVzdWx0OwoKICAgIC8vIGRlZmluZSBwYXR0ZXJuIGFzIHJlZ3VsYXIgZXhwcmVzc2lvbgogICAgcGF0dGVybiA9IC9cdysvZzsKCiAgICAvLyBjaGVjayBiYWNrZ3JvdW5kIGNsYXNzIG5hbWVzCiAgICByZXN1bHQgPSBiZ0NsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIGZvciAoaSA9IGNvdW50ID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgaWYgKHJlc3VsdFtpXSA9PSAiaGlkZGVuIikKICAgICAgICBjb250aW51ZTsKCiAgICAgIGlmIChyZXN1bHRbaV0gPT0gImJhY2tncm91bmQiKQoJY29udGludWU7CgogICAgICArK2NvdW50OwogICAgfQoKICAgIGlmIChjb3VudCA9PSAwKSAgLy8gZGVmYXVsdCBtYXRjaAogICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcyBhbmQgcGxhY2UgcmVzdWx0IGluIGFycmF5CiAgICByZXN1bHQgPSBzbGlkZUNsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIG5hbWUgaXMgcHJlc2VudCBmb3IgYmFja2dyb3VuZAogICAgZm9yIChpID0gY291bnQgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKQogICAgewogICAgICBpZiAocmVzdWx0W2ldID09ICJoaWRkZW4iKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgaWYgKHRoaXMuaGFzX3Rva2VuKGJnQ2xhc3MsIHJlc3VsdFtpXSkpCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIHJlc2l6ZWQ6IGZ1bmN0aW9uICgpIHsKICAgICB2YXIgd2lkdGggPSAwOwoKICAgICBpZiAoIHR5cGVvZiggd2luZG93LmlubmVyV2lkdGggKSA9PSAnbnVtYmVyJyApCiAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOyAgLy8gTm9uIElFIGJyb3dzZXIKICAgICBlbHNlIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKQogICAgICAgd2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7ICAvLyBJRTYKICAgICBlbHNlIGlmIChkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpCiAgICAgICB3aWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7IC8vIElFNAoKICAgICB2YXIgaGVpZ2h0ID0gMDsKCiAgICAgaWYgKCB0eXBlb2YoIHdpbmRvdy5pbm5lckhlaWdodCApID09ICdudW1iZXInICkKICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsgIC8vIE5vbiBJRSBicm93c2VyCiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpCiAgICAgICBoZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OyAgLy8gSUU2CiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgIGhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKCiAgICAgaWYgKGhlaWdodCAmJiAod2lkdGgvaGVpZ2h0ID4gMS4wNSoxMDI0Lzc2OCkpCiAgICAgewogICAgICAgd2lkdGggPSBoZWlnaHQgKiAxMDI0LjAvNzY4OwogICAgIH0KCiAgICAgLy8gSUUgZmlyZXMgb25yZXNpemUgZXZlbiB3aGVuIG9ubHkgZm9udCBzaXplIGlzIGNoYW5nZWQhCiAgICAgLy8gc28gd2UgZG8gYSBjaGVjayB0byBhdm9pZCBibG9ja2luZyA8IGFuZCA+IGFjdGlvbnMKICAgICBpZiAod2lkdGggIT0gdzNjX3NsaWR5Lmxhc3Rfd2lkdGggfHwgaGVpZ2h0ICE9IHczY19zbGlkeS5sYXN0X2hlaWdodCkKICAgICB7CiAgICAgICBpZiAod2lkdGggPj0gMTEwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSA1OyAgICAvLyA0CiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSAxMDAwKQogICAgICAgICB3M2Nfc2xpZHkuc2l6ZV9pbmRleCA9IDQ7ICAgIC8vIDMKICAgICAgIGVsc2UgaWYgKHdpZHRoID49IDgwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSAzOyAgICAvLyAyCiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSA2MDApCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMjsgICAgLy8gMQogICAgICAgZWxzZSBpZiAod2lkdGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMDsKCiAgICAgICAvLyBhZGQgaW4gZm9udCBzaXplIGFkanVzdG1lbnQgZnJvbSBtZXRhIGVsZW1lbnQgZS5nLgogICAgICAgLy8gPG1ldGEgbmFtZT0iZm9udC1zaXplLWFkanVzdG1lbnQiIGNvbnRlbnQ9Ii0yIiAvPgogICAgICAgLy8gdXNlZnVsIHdoZW4gc2xpZGVzIGhhdmUgdG9vIG11Y2ggY29udGVudCA7LSkKCiAgICAgICBpZiAoMCA8PSB3M2Nfc2xpZHkuc2l6ZV9pbmRleCArIHczY19zbGlkeS5zaXplX2FkanVzdG1lbnQgJiYKICAgICAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ICsgdzNjX3NsaWR5LnNpemVfYWRqdXN0bWVudCA8IHczY19zbGlkeS5zaXplcy5sZW5ndGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gdzNjX3NsaWR5LnNpemVfaW5kZXggKyB3M2Nfc2xpZHkuc2l6ZV9hZGp1c3RtZW50OwoKICAgICAgIC8vIGVuYWJsZXMgY3Jvc3MgYnJvd3NlciB1c2Ugb2YgcmVsYXRpdmUgd2lkdGgvaGVpZ2h0CiAgICAgICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAgICAgIHczY19zbGlkeS5hZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnMod2lkdGgsIGhlaWdodCk7CgogICAgICAgaWYgKGRvY3VtZW50LmJvZHkuc3R5bGUuZm9udFNpemUgIT0gdzNjX3NsaWR5LnNpemVzW3czY19zbGlkeS5zaXplX2luZGV4XSkKICAgICAgIHsKICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICAgICB9CgogICAgICAgdzNjX3NsaWR5Lmxhc3Rfd2lkdGggPSB3aWR0aDsKICAgICAgIHczY19zbGlkeS5sYXN0X2hlaWdodCA9IGhlaWdodDsKCiAgICAgICAvLyBmb3JjZSByZWZsb3cgdG8gd29yayBhcm91bmQgTW96aWxsYSBidWcKICAgICAgIGlmICh3M2Nfc2xpZHkubnNfcG9zKQogICAgICAgewogICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgIH0KCiAgICAgICAvLyBmb3JjZSBjb3JyZWN0IHBvc2l0aW9uaW5nIG9mIHRvb2xiYXIKICAgICAgIHczY19zbGlkeS5yZWZyZXNoX3Rvb2xiYXIoMjAwKTsKICAgICB9CiAgfSwKCiAgc2Nyb2xsZWQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkudG9vbGJhciAmJiAhdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhhY2tfb2Zmc2V0ID0gdzNjX3NsaWR5LnNjcm9sbF94X29mZnNldCgpOwogICAgICAvLyBoaWRlIHRvb2xiYXIKICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCiAgICAgIC8vIG1ha2UgaXQgcmVhcHBlYXIgbGF0ZXIKICAgICAgaWYgKHczY19zbGlkeS5zY3JvbGxoYWNrID09IDAgJiYgIXczY19zbGlkeS52aWV3X2FsbCkKICAgICAgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge3czY19zbGlkeS5zaG93X3Rvb2xiYXIoKTsgfSwgMTAwMCk7CiAgICAgICAgdzNjX3NsaWR5LnNjcm9sbGhhY2sgPSAxOwogICAgICB9CiAgICB9CiAgfSwKCiAgaGlkZV90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b29sYmFyLCAiaGlkZGVuIik7CiAgICB3aW5kb3cuZm9jdXMoKTsKICB9LAoKICAvLyB1c2VkIHRvIGVuc3VyZSBJRSByZWZyZXNoZXMgdG9vbGJhciBpbiBjb3JyZWN0IHBvc2l0aW9uCiAgcmVmcmVzaF90b29sYmFyOiBmdW5jdGlvbiAoaW50ZXJ2YWwpIHsKICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhpZGVfdG9vbGJhcigpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHt3M2Nfc2xpZHkuc2hvd190b29sYmFyKCk7fSwgaW50ZXJ2YWwpOwogICAgfQogIH0sCgogIC8vIHJlc3RvcmVzIHRvb2xiYXIgYWZ0ZXIgc2hvcnQgZGVsYXkKICBzaG93X3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkud2FudF90b29sYmFyKQogICAgewogICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgewogICAgICAgIC8vIGFkanVzdCBwb3NpdGlvbiB0byBhbGxvdyBmb3Igc2Nyb2xsaW5nCiAgICAgICAgdmFyIHhvZmZzZXQgPSB3M2Nfc2xpZHkuc2Nyb2xsX3hfb2Zmc2V0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUubGVmdCA9IHhvZmZzZXQ7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUucmlnaHQgPSB4b2Zmc2V0OwoKICAgICAgICAvLyBkZXRlcm1pbmUgdmVydGljYWwgc2Nyb2xsIG9mZnNldAogICAgICAgIC8vdmFyIHlvZmZzZXQgPSBzY3JvbGxZT2Zmc2V0KCk7CgogICAgICAgIC8vIGJvdHRvbSBpcyBkb2MgaGVpZ2h0IC0gd2luZG93IGhlaWdodCAtIHNjcm9sbCBvZmZzZXQKICAgICAgICAvL3ZhciBib3R0b20gPSBkb2N1bWVudEhlaWdodCgpIC0gbGFzdEhlaWdodCAtIHlvZmZzZXQKCiAgICAgICAgLy9pZiAoeW9mZnNldCA+IDAgfHwgZG9jdW1lbnRIZWlnaHQoKSA+IGxhc3RIZWlnaHQpCiAgICAgICAgLy8gICBib3R0b20gKz0gMTY7ICAvLyBhbGxvdyBmb3IgaGVpZ2h0IG9mIHNjcm9sbGJhcgoKICAgICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5ib3R0b20gPSAwOyAvL2JvdHRvbTsKICAgICAgfQoKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpOwogICAgfQoKICAgIHczY19zbGlkeS5zY3JvbGxoYWNrID0gMDsKCgogICAgLy8gc2V0IHRoZSBrZXlib2FyZCBmb2N1cyB0byB0aGUgaGVscCBsaW5rIG9uIHRoZQogICAgLy8gdG9vbGJhciB0byBlbnN1cmUgdGhhdCBkb2N1bWVudCBoYXMgdGhlIGZvY3VzCiAgICAvLyBJRSBkb2Vzbid0IGFsd2F5cyB3b3JrIHdpdGggd2luZG93LmZvY3VzKCkKICAgIC8vIGFuZCB0aGlzIGhhY2sgaGFzIGJlbmVmaXQgb2YgRW50ZXIgZm9yIGhlbHAKCiAgICB0cnkKICAgIHsKICAgICAgaWYgKCF3M2Nfc2xpZHkub3BlcmEpCiAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgfQogICAgY2F0Y2ggKGUpCiAgICB7CiAgICB9CiAgfSwKCi8vIGludm9rZWQgdmlhIEYga2V5CiAgdG9nZ2xlX3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDE7CiAgICAgIH0KICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDA7CiAgICAgIH0KICAgIH0KICB9LAoKICBzY3JvbGxfeF9vZmZzZXQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cucGFnZVhPZmZzZXQpCiAgICAgIHJldHVybiBzZWxmLnBhZ2VYT2Zmc2V0OwoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgCiAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0OwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0OwoKICAgIHJldHVybiAwOwogIH0sCgogIHNjcm9sbF95X29mZnNldDogZnVuY3Rpb24gKCkgewogICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCkKICAgICAgcmV0dXJuIHNlbGYucGFnZVlPZmZzZXQ7CgogICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAKICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApCiAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CgogICAgcmV0dXJuIDA7CiAgfSwKCiAgLy8gbG9va2luZyBmb3IgYSB3YXkgdG8gZGV0ZXJtaW5lIGhlaWdodCBvZiBzbGlkZSBjb250ZW50CiAgLy8gdGhlIHNsaWRlIGl0c2VsZiBpcyBzZXQgdG8gdGhlIGhlaWdodCBvZiB0aGUgd2luZG93CiAgb3B0aW1pemVfZm9udF9zaXplOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIC8vdmFyIGRoID0gZG9jdW1lbnRIZWlnaHQoKTsgLy9nZXREb2NIZWlnaHQoZG9jdW1lbnQpOwogICAgdmFyIGRoID0gc2xpZGUuc2Nyb2xsSGVpZ2h0OwogICAgdmFyIHdoID0gZ2V0V2luZG93SGVpZ2h0KCk7CiAgICB2YXIgdSA9IDEwMCAqIGRoIC8gd2g7CgogICAgYWxlcnQoIndpbmRvdyB1dGlsaXphdGlvbiA9ICIgKyB1ICsgIiUgKGRvYyAiCiAgICAgICsgZGggKyAiIHdpbiAiICsgd2ggKyAiKSIpOwogIH0sCgogIC8vIGZyb20gZG9jdW1lbnQgb2JqZWN0CiAgZ2V0X2RvY19oZWlnaHQ6IGZ1bmN0aW9uIChkb2MpIHsKICAgIGlmICghZG9jKQogICAgICBkb2MgPSBkb2N1bWVudDsKCiAgICBpZiAoZG9jICYmIGRvYy5ib2R5ICYmIGRvYy5ib2R5Lm9mZnNldEhlaWdodCkKICAgICAgcmV0dXJuIGRvYy5ib2R5Lm9mZnNldEhlaWdodDsgIC8vIG5zL2dlY2tvIHN5bnRheAoKICAgIGlmIChkb2MgJiYgZG9jLmJvZHkgJiYgZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0KQogICAgICByZXR1cm4gZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0OwoKICAgIGFsZXJ0KCJjb3VsZG4ndCBkZXRlcm1pbmUgZG9jdW1lbnQgaGVpZ2h0Iik7CiAgfSwKCiAgZ2V0X3dpbmRvd19oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICggdHlwZW9mKCB3aW5kb3cuaW5uZXJIZWlnaHQgKSA9PSAnbnVtYmVyJyApCiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQ7ICAvLyBOb24gSUUgYnJvd3NlcgoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7ICAvLyBJRTYKCiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKICB9LAoKICBkb2N1bWVudF9oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzaCwgb2g7CgogICAgc2ggPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDsKICAgIG9oID0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7CgogICAgaWYgKHNoICYmIG9oKQogICAgewogICAgICByZXR1cm4gKHNoID4gb2ggPyBzaCA6IG9oKTsKICAgIH0KCiAgICAvLyBubyBpZGVhIQogICAgcmV0dXJuIDA7CiAgfSwKCiAgc21hbGxlcjogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5zaXplX2luZGV4ID4gMCkKICAgIHsKICAgICAgLS13M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgYmlnZ2VyOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAodzNjX3NsaWR5LnNpemVfaW5kZXggPCB3M2Nfc2xpZHkuc2l6ZXMubGVuZ3RoIC0gMSkKICAgIHsKICAgICAgKyt3M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgLy8gZW5hYmxlcyBjcm9zcyBicm93c2VyIHVzZSBvZiByZWxhdGl2ZSB3aWR0aC9oZWlnaHQKICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAvLyB3aXRoIHRoYW5rcyB0byBJdmFuIEhlcm1hbiBmb3IgdGhlIHN1Z2dlc3Rpb24KICBhZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnM6IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7CiAgICBmb3IoIHZhciBpID0gMDsgaSA8IHczY19zbGlkeS5vYmplY3RzLmxlbmd0aDsgaSsrICkKICAgIHsKICAgICAgdmFyIG9iaiA9IHRoaXMub2JqZWN0c1tpXTsKICAgICAgdmFyIG1pbWVUeXBlID0gb2JqLmdldEF0dHJpYnV0ZSgidHlwZSIpOwoKICAgICAgaWYgKG1pbWVUeXBlID09ICJpbWFnZS9zdmcreG1sIiB8fCBtaW1lVHlwZSA9PSAiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giKQogICAgICB7CiAgICAgICAgaWYgKCAhb2JqLmluaXRpYWxXaWR0aCApIAogICAgICAgICAgb2JqLmluaXRpYWxXaWR0aCA9IG9iai5nZXRBdHRyaWJ1dGUoIndpZHRoIik7CgogICAgICAgIGlmICggIW9iai5pbml0aWFsSGVpZ2h0ICkgCiAgICAgICAgICBvYmouaW5pdGlhbEhlaWdodCA9IG9iai5nZXRBdHRyaWJ1dGUoImhlaWdodCIpOwoKICAgICAgICBpZiAoIG9iai5pbml0aWFsV2lkdGggJiYgb2JqLmluaXRpYWxXaWR0aC5jaGFyQXQob2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgdyA9IHBhcnNlSW50KG9iai5pbml0aWFsV2lkdGguc2xpY2UoMCwgb2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkpOwogICAgICAgICAgdmFyIG5ld1cgPSB3aWR0aCAqICh3LzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoIndpZHRoIixuZXdXKTsKICAgICAgICB9CgogICAgICAgIGlmICggb2JqLmluaXRpYWxIZWlnaHQgJiYKICAgICAgICAgICAgIG9iai5pbml0aWFsSGVpZ2h0LmNoYXJBdChvYmouaW5pdGlhbEhlaWdodC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgaCA9IHBhcnNlSW50KG9iai5pbml0aWFsSGVpZ2h0LnNsaWNlKDAsIG9iai5pbml0aWFsSGVpZ2h0Lmxlbmd0aC0xKSk7CiAgICAgICAgICB2YXIgbmV3SCA9IGhlaWdodCAqIChoLzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIG5ld0gpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCgogIC8vIG5lZWRlZCBmb3IgT3BlcmEgdG8gaW5oaWJpdCBkZWZhdWx0IGJlaGF2aW9yCiAgLy8gc2luY2UgT3BlcmEgZGVsaXZlcnMga2V5UHJlc3MgZXZlbiBpZiBrZXlEb3duCiAgLy8gd2FzIGNhbmNlbGxlZAogIGtleV9wcmVzczogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoIWV2ZW50KQogICAgICBldmVudCA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoIXczY19zbGlkeS5rZXlfd2FudGVkKQogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gIFNlZSBlLmcuIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZXZlbnRzL2tleXMuaHRtbCBmb3Iga2V5Y29kZXMKICBrZXlfZG93bjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIga2V5LCB0YXJnZXQsIHRhZzsKCiAgICB3M2Nfc2xpZHkua2V5X3dhbnRlZCA9IHRydWU7CgogICAgaWYgKCFldmVudCkKICAgICAgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICB7CiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgICB0YXJnZXQgPSB3aW5kb3cuZXZlbnQuc3JjRWxlbWVudDsKICAgIH0KICAgIGVsc2UgaWYgKGV2ZW50LndoaWNoKQogICAgewogICAgICBrZXkgPSBldmVudC53aGljaDsKICAgICAgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwogICAgfQogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGF2b2lkIGludGVyZmVyaW5nIHdpdGgga2V5c3Ryb2tlCiAgICAvLyBiZWhhdmlvciBmb3Igbm9uLXNsaWR5IGNocm9tZSBlbGVtZW50cwogICAgaWYgKCF3M2Nfc2xpZHkuc2xpZHlfY2hyb21lKHRhcmdldCkgJiYKICAgICAgICB3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGNoZWNrIGZvciBjb25jdXJyZW50IGNvbnRyb2wvY29tbWFuZC9hbHQga2V5CiAgICAvLyBidXQgYXJlIHRoZXNlIG9ubHkgcHJlc2VudCBvbiBtb3VzZSBldmVudHM/CgogICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkpCiAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBkaXNtaXNzIHRhYmxlIG9mIGNvbnRlbnRzIGlmIHZpc2libGUKICAgIGlmICh3M2Nfc2xpZHkuaXNfc2hvd25fdG9jKCkgJiYga2V5ICE9IDkgJiYga2V5ICE9IDE2ICYmIGtleSAhPSAzOCAmJiBrZXkgIT0gNDApCiAgICB7CiAgICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKHRydWUpOwoKICAgICAgaWYgKGtleSA9PSAyNyB8fCBrZXkgPT0gODQgfHwga2V5ID09IDY3KQogICAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICBpZiAoa2V5ID09IDM0KSAvLyBQYWdlIERvd24KICAgIHsKICAgICAgaWYgKHczY19zbGlkeS52aWV3X2FsbCkKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKGZhbHNlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDMzKSAvLyBQYWdlIFVwCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICB3M2Nfc2xpZHkucHJldmlvdXNfc2xpZGUoZmFsc2UpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzIpIC8vIHNwYWNlIGJhcgogICAgewogICAgICB3M2Nfc2xpZHkubmV4dF9zbGlkZSh0cnVlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDM3KSAvLyBMZWZ0IGFycm93CiAgICB7CiAgICAgIHczY19zbGlkeS5wcmV2aW91c19zbGlkZSghZXZlbnQuc2hpZnRLZXkpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzYpIC8vIEhvbWUKICAgIHsKICAgICAgdzNjX3NsaWR5LmZpcnN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzNSkgLy8gRW5kCiAgICB7CiAgICAgIHczY19zbGlkeS5sYXN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzOSkgLy8gUmlnaHQgYXJyb3cKICAgIHsKICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUoIWV2ZW50LnNoaWZ0S2V5KTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDEzKSAvLyBFbnRlcgogICAgewogICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUpCiAgICAgIHsKICAgICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUudmlzaWJsZSkKICAgICAgICAgIHczY19zbGlkeS5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICAgIAogICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgICB9CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg4KSAgLy8gPCBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTkwKSAgLy8gPiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDE4OSB8fCBrZXkgPT0gMTA5KSAgLy8gLSBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg3IHx8IGtleSA9PSAxOTEgfHwga2V5ID09IDEwNykgIC8vID0gKyAgZm9yIGxhcmdlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuYmlnZ2VyKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4MykgIC8vIFMgZm9yIHNtYWxsZXIgZm9udHMKICAgIHsKICAgICAgdzNjX3NsaWR5LnNtYWxsZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY2KSAgLy8gQiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDkwKSAgLy8gWiBmb3IgbGFzdCBzbGlkZQogICAgewogICAgICB3M2Nfc2xpZHkubGFzdF9zbGlkZSgpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gNzApICAvLyBGIGZvciB0b2dnbGUgdG9vbGJhcgogICAgewogICAgICB3M2Nfc2xpZHkudG9nZ2xlX3Rvb2xiYXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY1KSAgLy8gQSBmb3IgdG9nZ2xlIHZpZXcgc2luZ2xlL2FsbCBzbGlkZXMKICAgIHsKICAgICAgdzNjX3NsaWR5LnRvZ2dsZV92aWV3KCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3NSkgIC8vIHRvZ2dsZSBhY3Rpb24gb2YgbGVmdCBjbGljayBmb3IgbmV4dCBwYWdlCiAgICB7CiAgICAgIHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID0gIXczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkOwogICAgICB2YXIgYWxlcnRfbXNnID0gKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID8KICAgICAgICAgICAgICAgICJlbmFibGVkIiA6ICJkaXNhYmxlZCIpICsgICIgbW91c2UgY2xpY2sgYWR2YW5jZSI7CgogICAgICBhbGVydCh3M2Nfc2xpZHkubG9jYWxpemUoYWxlcnRfbXNnKSk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4NCB8fCBrZXkgPT0gNjcpICAvLyBUIG9yIEMgZm9yIHRhYmxlIG9mIGNvbnRlbnRzCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudG9jKQogICAgICAgIHczY19zbGlkeS50b2dnbGVfdGFibGVfb2ZfY29udGVudHMoKTsKCiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3MikgLy8gSCBmb3IgaGVscAogICAgewogICAgICB3aW5kb3cubG9jYXRpb24gPSB3M2Nfc2xpZHkuaGVscF9wYWdlOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICAvL2Vsc2UgYWxlcnQoImtleSBjb2RlIGlzICIrIGtleSk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gc2FmZSBmb3IgYm90aCB0ZXh0L2h0bWwgYW5kIGFwcGxpY2F0aW9uL3hodG1sK3htbAogIGNyZWF0ZV9lbGVtZW50OiBmdW5jdGlvbiAobmFtZSkgewogICAgaWYgKHRoaXMueGh0bWwgJiYgKHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgIT0gJ3VuZGVmaW5lZCcpKQogICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwgbmFtZSkKCiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTsKICB9LAoKICBnZXRfZWxlbWVudF9zdHlsZTogZnVuY3Rpb24gKGVsZW0sIElFU3R5bGVQcm9wLCBDU1NTdHlsZVByb3ApIHsKICAgIGlmIChlbGVtLmN1cnJlbnRTdHlsZSkKICAgIHsKICAgICAgcmV0dXJuIGVsZW0uY3VycmVudFN0eWxlW0lFU3R5bGVQcm9wXTsKICAgIH0KICAgIGVsc2UgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKQogICAgewogICAgICB2YXIgY29tcFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSwgIiIpOwogICAgICByZXR1cm4gY29tcFN0eWxlLmdldFByb3BlcnR5VmFsdWUoQ1NTU3R5bGVQcm9wKTsKICAgIH0KICAgIHJldHVybiAiIjsKICB9LAoKICAvLyB0aGUgc3RyaW5nIHN0ciBpcyBhIHdoaXRlc3BhY2Ugc2VwYXJhdGVkIGxpc3Qgb2YgdG9rZW5zCiAgLy8gdGVzdCBpZiBzdHIgY29udGFpbnMgYSBwYXJ0aWN1bGFyIHRva2VuLCBlLmcuICJzbGlkZSIKICBoYXNfdG9rZW46IGZ1bmN0aW9uIChzdHIsIHRva2VuKSB7CiAgICBpZiAoc3RyKQogICAgewogICAgICAvLyBkZWZpbmUgcGF0dGVybiBhcyByZWd1bGFyIGV4cHJlc3Npb24KICAgICAgdmFyIHBhdHRlcm4gPSAvXHcrL2c7CgogICAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcwogICAgICAvLyBwbGFjZSByZXN1bHQgaW4gYXJyYXkKICAgICAgdmFyIHJlc3VsdCA9IHN0ci5tYXRjaChwYXR0ZXJuKTsKCiAgICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIHRva2VuIGlzIHByZXNlbnQKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspCiAgICAgIHsKICAgICAgICBpZiAocmVzdWx0W2ldID09IHRva2VuKQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgZ2V0X2NsYXNzX2xpc3Q6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gZWxlbWVudC5jbGFzc05hbWU7CgogICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogIH0sCgogIGhhc19jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgiKF58ICkiICsgbmFtZSArICJcVyoiKTsKCiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gcmVnZXhwLnRlc3QoZWxlbWVudC5jbGFzc05hbWUpOwoKICAgIHJldHVybiByZWdleHAudGVzdChlbGVtZW50LmdldEF0dHJpYnV0ZSgiY2xhc3MiKSk7CiAgfSwKCiAgcmVtb3ZlX2NsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgbmFtZSkgewogICAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAoIihefCApIiArIG5hbWUgKyAiXFcqIik7CiAgICB2YXIgY2xzdmFsID0gIiI7CgogICAgaWYgKHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSAhPSAndW5kZWZpbmVkJykKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5jbGFzc05hbWU7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbHN2YWw7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoImNsYXNzIik7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgY2xzdmFsKTsKICAgICAgfQogICAgfQogIH0sCgogIGFkZF9jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmICghdGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgbmFtZSkpCiAgICB7CiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5jbGFzc05hbWUgIT0gJ3VuZGVmaW5lZCcpCiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gIiAiICsgbmFtZTsKICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdmFyIGNsc3ZhbCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogICAgICAgIGNsc3ZhbCA9IGNsc3ZhbCA/IGNsc3ZhbCArICIgIiArIG5hbWUgOiBuYW1lOwogICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJjbGFzcyIsIGNsc3ZhbCk7CiAgICAgIH0KICAgIH0KICB9LAoKICAvLyBIVE1MIGVsZW1lbnRzIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBjbGFzcz0iaW5jcmVtZW50YWwiCiAgLy8gbm90ZSB0aGF0IHlvdSBjYW4gYWxzbyBwdXQgdGhlIGNsYXNzIG9uIGNvbnRhaW5lcnMgbGlrZQogIC8vIHVwLCBvbCwgZGwsIGFuZCBkaXYgdG8gbWFrZSB0aGVpciBjb250ZW50cyBhcHBlYXIKICAvLyBpbmNyZW1lbnRhbGx5LiBVcHBlciBjYXNlIGlzIHVzZWQgc2luY2UgdGhpcyBpcyB3aGF0CiAgLy8gYnJvd3NlcnMgcmVwb3J0IGZvciBIVE1MIG5vZGUgbmFtZXMgKHRleHQvaHRtbCkuCiAgaW5jcmVtZW50YWxfZWxlbWVudHM6IG51bGwsCiAgb2theV9mb3JfaW5jcmVtZW50YWw6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICBpZiAoIXRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMpCiAgICB7CiAgICAgIHZhciBpbmNsaXN0ID0gbmV3IEFycmF5KCk7CiAgICAgIGluY2xpc3RbInAiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInByZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsibGkiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImJsb2NrcXVvdGUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImR0Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJkZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImgzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJoNCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImg2Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJzcGFuIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJhZGRyZXNzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0YWJsZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsidHIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInRoIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0ZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaW1nIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJvYmplY3QiXSA9IHRydWU7CiAgICAgIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMgPSBpbmNsaXN0OwogICAgfQogICAgcmV0dXJuIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHNbbmFtZS50b0xvd2VyQ2FzZSgpXTsKICB9LAoKICBuZXh0X2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkubmV4dF9ub2RlKHNsaWRlLCBub2RlKTsKCiAgICAgIGlmIChub2RlID09IG51bGwgfHwgbm9kZS5wYXJlbnROb2RlID09IG51bGwpCiAgICAgICAgYnJlYWs7CgogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSAgLy8gRUxFTUVOVAogICAgICB7CiAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gYnIpCiAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgImluY3JlbWVudGFsIikKICAgICAgICAgICAgICYmIHczY19zbGlkeS5va2F5X2Zvcl9pbmNyZW1lbnRhbChub2RlLm5vZGVOYW1lKSkKICAgICAgICAgIHJldHVybiBub2RlOwoKICAgICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLnBhcmVudE5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiAhdzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLCAibm9uLWluY3JlbWVudGFsIikpCiAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBub2RlOwogIH0sCgogIHByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkucHJldmlvdXNfbm9kZShzbGlkZSwgbm9kZSk7CgogICAgICBpZiAobm9kZSA9PSBudWxsIHx8IG5vZGUucGFyZW50Tm9kZSA9PSBudWxsKQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09IGJyKQogICAgICAgICAgY29udGludWU7CgogICAgICAgIGlmICh3M2Nfc2xpZHkuaGFzX2NsYXNzKG5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiB3M2Nfc2xpZHkub2theV9mb3JfaW5jcmVtZW50YWwobm9kZS5ub2RlTmFtZSkpCiAgICAgICAgICByZXR1cm4gbm9kZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZS5wYXJlbnROb2RlLCAiaW5jcmVtZW50YWwiKQogICAgICAgICAgICAgJiYgIXczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgIm5vbi1pbmNyZW1lbnRhbCIpKQogICAgICAgICAgcmV0dXJuIG5vZGU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbm9kZTsKICB9LAoKICAvLyBzZXQgdmlzaWJpbGl0eSBmb3IgYWxsIGVsZW1lbnRzIG9uIGN1cnJlbnQgc2xpZGUgd2l0aAogIC8vIGEgcGFyZW50IGVsZW1lbnQgd2l0aCBhdHRyaWJ1dGUgY2xhc3M9ImluY3JlbWVudGFsIgogIHNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbDogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICB2YXIgbm9kZSA9IHRoaXMubmV4dF9pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwoKICAgIGlmICh2YWx1ZSA9PSAiaGlkZGVuIikKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogICAgZWxzZSAvLyB2YWx1ZSA9PSAidmlzaWJsZSIKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkucmVtb3ZlX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogIH0sCgogIC8vIHJldmVhbCB0aGUgbmV4dCBoaWRkZW4gaXRlbSBvbiB0aGUgc2xpZGUKICAvLyBub2RlIGlzIG51bGwgb3IgdGhlIG5vZGUgdGhhdCB3YXMgbGFzdCByZXZlYWxlZAogIHJldmVhbF9uZXh0X2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKCiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiBub2RlOwogIH0sCgogIC8vIGV4YWN0IGludmVyc2Ugb2YgcmV2ZWFsTmV4dEl0ZW0obm9kZSkKICBoaWRlX3ByZXZpb3VzX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5hZGRfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obm9kZSk7CiAgfSwKCiAgLy8gbGVmdCB0byByaWdodCB0cmF2ZXJzYWwgb2Ygcm9vdCdzIGNvbnRlbnQKICBuZXh0X25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgICByZXR1cm4gcm9vdC5maXJzdENoaWxkOwoKICAgIGlmIChub2RlLmZpcnN0Q2hpbGQpCiAgICAgIHJldHVybiBub2RlLmZpcnN0Q2hpbGQ7CgogICAgaWYgKG5vZGUubmV4dFNpYmxpbmcpCiAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7CgogICAgICBpZiAoIW5vZGUgfHwgbm9kZSA9PSByb290KQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUgJiYgbm9kZS5uZXh0U2libGluZykKICAgICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9LAoKICAvLyByaWdodCB0byBsZWZ0IHRyYXZlcnNhbCBvZiByb290J3MgY29udGVudAogIHByZXZpb3VzX25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgewogICAgICBub2RlID0gcm9vdC5sYXN0Q2hpbGQ7CgogICAgICBpZiAobm9kZSkKICAgICAgewogICAgICAgIHdoaWxlIChub2RlLmxhc3RDaGlsZCkKICAgICAgICAgIG5vZGUgPSBub2RlLmxhc3RDaGlsZDsKICAgICAgfQoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nKQogICAgewogICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7CgogICAgICB3aGlsZSAobm9kZS5sYXN0Q2hpbGQpCiAgICAgICAgbm9kZSA9IG5vZGUubGFzdENoaWxkOwoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucGFyZW50Tm9kZSAhPSByb290KQogICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlOwoKICAgIHJldHVybiBudWxsOwogIH0sCgogIHByZXZpb3VzX3NpYmxpbmdfZWxlbWVudDogZnVuY3Rpb24gKGVsKSB7CiAgICBlbCA9IGVsLnByZXZpb3VzU2libGluZzsKCiAgICB3aGlsZSAoZWwgJiYgZWwubm9kZVR5cGUgIT0gMSkKICAgICAgZWwgPSBlbC5wcmV2aW91c1NpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIG5leHRfc2libGluZ19lbGVtZW50OiBmdW5jdGlvbiAoZWwpIHsKICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgd2hpbGUgKGVsICYmIGVsLm5vZGVUeXBlICE9IDEpCiAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIGZpcnN0X2NoaWxkX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbCkgewogICAgdmFyIG5vZGU7CgogICAgZm9yIChub2RlID0gZWwuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgZmlyc3RfdGFnOiBmdW5jdGlvbiAoZWxlbWVudCwgdGFnKSB7CiAgICB2YXIgbm9kZTsKCiAgICBpZiAoIXRoaXMuaXNfeGh0bWwpCiAgICAgIHRhZyA9IHRhZy50b1VwcGVyQ2FzZSgpOwoKICAgIGZvciAobm9kZSA9IGVsZW1lbnQuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgbm9kZS5ub2RlTmFtZSA9PSB0YWcpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgaGlkZV9zZWxlY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSAvLyBGaXJlZm94LCBDaHJvbWl1bSwgU2FmYXJpLCBPcGVyYQogICAgewogICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpOwoKICAgICAgaWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkKICAgICAgewogICAgICAgIHZhciByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApOwogICAgICAgIHJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UgLy8gSW50ZXJuZXQgRXhwbG9yZXIKICAgIHsKICAgICAgdmFyIHRleHRSYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSAoKTsKICAgICAgdGV4dFJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICB9CiAgfSwKCiAgZ2V0X3NlbGVjdGVkX3RleHQ6IGZ1bmN0aW9uICgpIHsKICAgIHRyeQogICAgewogICAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbikKICAgICAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk7CgogICAgICBpZiAoZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKQogICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpOwoKICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikKICAgICAgICByZXR1cm4gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dDsKICAgIH0KICAgIGNhdGNoIChlKQogICAgewogICAgfQoKICAgIHJldHVybiAiIjsKICB9LAoKICAvLyBtYWtlIG5vdGUgb2YgbGVuZ3RoIG9mIHNlbGVjdGVkIHRleHQKICAvLyBhcyB0aGlzIGV2YWx1YXRlcyB0byB6ZXJvIGluIGNsaWNrIGV2ZW50CiAgbW91c2VfYnV0dG9uX3VwOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogIH0sCgogIG1vdXNlX2J1dHRvbl9kb3duOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogICAgdzNjX3NsaWR5Lm1vdXNlX3ggPSBlLmNsaWVudFg7CiAgICB3M2Nfc2xpZHkubW91c2VfeSA9IGUuY2xpZW50WTsKICB9LAoKICAvLyByaWdodCBtb3VzZSBidXR0b24gY2xpY2sgaXMgcmVzZXJ2ZWQgZm9yIGNvbnRleHQgbWVudXMKICAvLyBpdCBpcyBtb3JlIHJlbGlhYmxlIHRvIGRldGVjdCByaWdodGNsaWNrIHRoYW4gbGVmdGNsaWNrCiAgbW91c2VfYnV0dG9uX2NsaWNrOiBmdW5jdGlvbiAoZSkgewogICAgaWYgKCFlKQogICAgICB2YXIgZSA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoTWF0aC5hYnMoZS5jbGllbnRYIC13M2Nfc2xpZHkubW91c2VfeCkgKwogICAgICAgIE1hdGguYWJzKGUuY2xpZW50WSAtdzNjX3NsaWR5Lm1vdXNlX3kpID4gMTApCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPiAwKQogICAgICByZXR1cm4gdHJ1ZTsKCiAgICB2YXIgcmlnaHRjbGljayA9IGZhbHNlOwogICAgdmFyIGxlZnRjbGljayA9IGZhbHNlOwogICAgdmFyIG1pZGRsZWNsaWNrID0gZmFsc2U7CiAgICB2YXIgdGFyZ2V0OwoKICAgIGlmICghZSkKICAgICAgdmFyIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIC8vIHdvcmsgYXJvdW5kIFNhZmFyaSBidWcKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKGUud2hpY2gpIC8vIGFsbCBicm93c2VycyBleGNlcHQgSUUKICAgIHsKICAgICAgbGVmdGNsaWNrID0gKGUud2hpY2ggPT0gMSk7CiAgICAgIG1pZGRsZWNsaWNrID0gKGUud2hpY2ggPT0gMik7CiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS53aGljaCA9PSAzKTsKICAgIH0KICAgIGVsc2UgaWYgKGUuYnV0dG9uKQogICAgewogICAgICAvLyBLb25xdWVyb3IgZ2l2ZXMgMSBmb3IgbGVmdCwgNCBmb3IgbWlkZGxlCiAgICAgIC8vIElFNiBnaXZlcyAwIGZvciBsZWZ0IGFuZCBub3QgMSBhcyBJIGV4cGVjdGVkCgogICAgICBpZiAoZS5idXR0b24gPT0gNCkKICAgICAgICBtaWRkbGVjbGljayA9IHRydWU7CgogICAgICAvLyBhbGwgYnJvd3NlcnMgYWdyZWUgb24gMiBmb3IgcmlnaHQgYnV0dG9uCiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS5idXR0b24gPT0gMik7CiAgICB9CiAgICBlbHNlCiAgICAgIGxlZnRjbGljayA9IHRydWU7CgogICAgaWYgKHczY19zbGlkeS5zZWxlY3RlZF90ZXh0X2xlbiA+IDApCiAgICB7CiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGRpc21pc3MgdGFibGUgb2YgY29udGVudHMKICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKGZhbHNlKTsKCiAgICAvLyBjaGVjayBpZiB0YXJnZXQgaXMgc29tZXRoaW5nIHRoYXQgcHJvYmFibHkgd2FudCdzIGNsaWNrcwogICAgLy8gZS5nLiBhLCBlbWJlZCwgb2JqZWN0LCBpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCwgb3B0aW9uCiAgICB2YXIgdGFnID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkICYmIGxlZnRjbGljayAmJgogICAgICAgICF3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkgJiYKICAgICAgICAhdGFyZ2V0Lm9uY2xpY2spCiAgICB7CiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKHRydWUpOwogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgICAgZS5jYW5jZWwgPSB0cnVlOwogICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICBzcGVjaWFsX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgIm5vbi1pbnRlcmFjdGl2ZSIpKQogICAgICByZXR1cm4gZmFsc2U7CgogICAgdmFyIHRhZyA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gZWxlbWVudC5vbmtleWRvd24gfHwKICAgICAgZWxlbWVudC5vbmNsaWNrIHx8CiAgICAgIHRhZyA9PSAiYSIgfHwKICAgICAgdGFnID09ICJlbWJlZCIgfHwKICAgICAgdGFnID09ICJvYmplY3QiIHx8CiAgICAgIHRhZyA9PSAidmlkZW8iIHx8CiAgICAgIHRhZyA9PSAiYXVkaW8iIHx8CiAgICAgIHRhZyA9PSAic3ZnIiB8fAogICAgICB0YWcgPT0gImNhbnZhcyIgfHwKICAgICAgdGFnID09ICJpbnB1dCIgfHwKICAgICAgdGFnID09ICJ0ZXh0YXJlYSIgfHwKICAgICAgdGFnID09ICJzZWxlY3QiIHx8CiAgICAgIHRhZyA9PSAib3B0aW9uIjsKICB9LAoKICBzbGlkeV9jaHJvbWU6IGZ1bmN0aW9uIChlbCkgewogICAgd2hpbGUgKGVsKQogICAgewogICAgICBpZiAoZWwgPT0gdzNjX3NsaWR5LnRvYyB8fAogICAgICAgICAgZWwgPT0gdzNjX3NsaWR5LnRvb2xiYXIgfHwKICAgICAgICAgIHczY19zbGlkeS5oYXNfY2xhc3MoZWwsICJvdXRsaW5lIikpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICBlbCA9IGVsLnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIGdldF9rZXk6IGZ1bmN0aW9uIChlKQogIHsKICAgIHZhciBrZXk7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh0eXBlb2Ygd2luZG93LmV2ZW50ICE9ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSB3aW5kb3cuZXZlbnQua2V5Q29kZTsKICAgIGVsc2UgaWYgKGUud2hpY2gpCiAgICAgIGtleSA9IGUud2hpY2g7CgogICAgcmV0dXJuIGtleTsKICB9LAoKICBnZXRfdGFyZ2V0OiBmdW5jdGlvbiAoZSkgewogICAgdmFyIHRhcmdldDsKCiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgcmV0dXJuIHRhcmdldDsKICB9LAoKICAvLyBkb2VzIGRpc3BsYXkgcHJvcGVydHkgcHJvdmlkZSBjb3JyZWN0IGRlZmF1bHRzPwogIGlzX2Jsb2NrOiBmdW5jdGlvbiAoZWxlbSkgewogICAgdmFyIHRhZyA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gdGFnID09ICJvbCIgfHwgdGFnID09ICJ1bCIgfHwgdGFnID09ICJwIiB8fCB0YWcgPT0gImRsIiB8fAogICAgICAgICAgIHRhZyA9PSAibGkiIHx8IHRhZyA9PSAidGFibGUiIHx8IHRhZyA9PSAicHJlIiB8fAogICAgICAgICAgIHRhZyA9PSAiaDEiIHx8IHRhZyA9PSAiaDIiIHx8IHRhZyA9PSAiaDMiIHx8CiAgICAgICAgICAgdGFnID09ICJoNCIgfHwgdGFnID09ICJoNSIgfHwgdGFnID09ICJoNiIgfHwKICAgICAgICAgICB0YWcgPT0gImJsb2NrcXVvdGUiIHx8IHRhZyA9PSAiYWRkcmVzcyI7IAogIH0sCgogIGFkZF9saXN0ZW5lcjogZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyKSB7CiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpCiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgZmFsc2UpOwogICAgZWxzZQogICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCJvbiIrZXZlbnQsIGhhbmRsZXIpOwogIH0sCgogIC8vIHVzZWQgdG8gcHJldmVudCBldmVudCBwcm9wYWdhdGlvbiBmcm9tIGZpZWxkIGNvbnRyb2xzCiAgc3RvcF9wcm9wYWdhdGlvbjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBldmVudCA9IGV2ZW50ID8gZXZlbnQgOiB3aW5kb3cuZXZlbnQ7CiAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOyAgLy8gZm9yIElFCgogICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgY2FuY2VsOiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGlmIChldmVudCkKICAgIHsKICAgICAgIGV2ZW50LmNhbmNlbCA9IHRydWU7CiAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlOwoKICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KQogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CgogICAgdzNjX3NsaWR5LmtleV93YW50ZWQgPSBmYWxzZTsKICAgIHJldHVybiBmYWxzZTsKICB9LAoKLy8gZm9yIGVhY2ggbGFuZ3VhZ2UgZGVmaW5lIGFuIGFzc29jaWF0aXZlIGFycmF5Ci8vIGFuZCBhbHNvIHRoZSBoZWxwIHRleHQgd2hpY2ggaXMgbG9uZ2VyCgogIHN0cmluZ3NfZXM6IHsKICAgICJzbGlkZSI6InDDoWcuIiwKICAgICJoZWxwPyI6IkF5dWRhIiwKICAgICJjb250ZW50cz8iOiLDjW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6InRhYmxhIGRlIGNvbnRlbmlkb3MiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiVGFibGEgZGUgQ29udGVuaWRvcyIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZWluaWNpYXIgcHJlc2VudGFjacOzbiIsCiAgICAicmVzdGFydD8iOiJJbmljaW8iCiAgfSwKICBoZWxwX2VzOgogICAgIlV0aWxpY2UgZWwgcmF0w7NuLCBiYXJyYSBlc3BhY2lhZG9yYSwgdGVjbGFzIEl6ZGEvRGNoYSwgIiArCiAgICAibyBSZSBww6FnIHkgQXYgcMOhZy4gVXNlIFMgeSBCIHBhcmEgY2FtYmlhciBlbCB0YW1hw7FvIGRlIGZ1ZW50ZS4iLAoKICBzdHJpbmdzX2NhOiB7CiAgICAic2xpZGUiOiJww6BnLi4iLAogICAgImhlbHA/IjoiQWp1ZGEiLAogICAgImNvbnRlbnRzPyI6IsONbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YXVsYSBkZSBjb250aW5ndXRzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhdWxhIGRlIENvbnRpbmd1dHMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVpbmljaWFyIHByZXNlbnRhY2nDsyIsCiAgICAicmVzdGFydD8iOiJJbmljaSIKICB9LAogIGhlbHBfY2E6CiAgICAiVXRpbGl0emkgZWwgcmF0b2zDrSwgYmFycmEgZXNwYWlhZG9yYSwgdGVjbGVzIEVzcS4vRHRhLiAiICsKICAgICJvIFJlIHDDoGcgeSBBdiBww6BnLiBVc2kgUyBpIEIgcGVyIGNhbnZpYXIgZ3JhbmTDoHJpYSBkZSBmb250LiIsCgogIHN0cmluZ3NfY3M6IHsKICAgICJzbGlkZSI6InNuw61tZWsiLAogICAgImhlbHA/IjoibsOhcG92xJtkYSIsCiAgICAiY29udGVudHM/Ijoib2JzYWgiLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoib2JzYWggcHJlemVudGFjZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJPYnNhaCBwcmV6ZW50YWNlIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6Inpub3Z1IHNwdXN0aXQgcHJlemVudGFjaSIsCiAgICAicmVzdGFydD8iOiJyZXN0YXJ0IgogIH0sCiAgaGVscF9jczoKICAgICJQcmV6ZW50YWNpIG3Fr8W+ZXRlIHByb2Now6F6ZXQgcG9tb2PDrSBrbGlrbnV0w60gbXnFoWksIG1lemVybsOta3UsICIgKwogICAgIsWhaXBlayB2bGV2byBhIHZwcmF2byBuZWJvIGtsw6F2ZXMgUGFnZVVwIGEgUGFnZURvd24uIFDDrXNtbyBzZSAiICsKICAgICJkw6EgenbEm3TFoWl0IGEgem1lbsWhaXQgcG9tb2PDrSBrbMOhdmVzIEIgYSBTLiIsCgogIHN0cmluZ3Nfbmw6IHsKICAgICJzbGlkZSI6InBhZ2luYSIsCiAgICAiaGVscD8iOiJIZWxwPyIsCiAgICAiY29udGVudHM/IjoiSW5ob3VkPyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbmhvdWRzb3BnYXZlIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IkluaG91ZHNvcGdhdmUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiaGVyc3RhcnQgcHJlc2VudGF0aWUiLAogICAgInJlc3RhcnQ/IjoiSGVyc3RhcnQ/IgogIH0sCiAgaGVscF9ubDoKICAgICAiTmF2aWdlZXIgZC5tLnYuIGhldCBtdWlzLCBzcGF0aWViYXIsIExpbmtzL1JlY2h0cyB0b2V0c2VuLCAiICsKICAgICAib2YgUGdVcCBlbiBQZ0RuLiBHZWJydWlrIFMgZW4gQiBvbSBkZSBrYXJha3Rlcmdyb290dGUgdGUgdmVyYW5kZXJlbi4iLAoKICBzdHJpbmdzX2RlOiB7CiAgICAic2xpZGUiOiJTZWl0ZSIsCiAgICAiaGVscD8iOiJIaWxmZSIsCiAgICAiY29udGVudHM/Ijoiw5xiZXJzaWNodCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJJbmhhbHRzdmVyemVpY2huaXMiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiSW5oYWx0c3ZlcnplaWNobmlzIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IlByw6RzZW50YXRpb24gbmV1IHN0YXJ0ZW4iLAogICAgInJlc3RhcnQ/IjoiTmV1c3RhcnQiCiAgfSwKICBoZWxwX2RlOgogICAgIkJlbnV0emVuIFNpZSBkaWUgTWF1cywgTGVlcnNjaGxhZywgZGllIEN1cnNvcnRhc3RlbiBsaW5rcy9yZWNodHMgb2RlciAiICsKICAgICJQYWdlIHVwL1BhZ2UgRG93biB6dW0gV2VjaHNlbG4gZGVyIFNlaXRlbiB1bmQgUyB1bmQgQiBmw7xyIGRpZSBTY2hyaWZ0Z3LDtnNzZS4iLAoKICBzdHJpbmdzX3BsOiB7CiAgICAic2xpZGUiOiJzbGFqZCIsCiAgICAiaGVscD8iOiJwb21vYz8iLAogICAgImNvbnRlbnRzPyI6InNwaXMgdHJlxZtjaT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoic3BpcyB0cmXFm2NpIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlNwaXMgVHJlxZtjaSIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZXN0YXJ0dWogcHJlemVudGFjasSZIiwKICAgICJyZXN0YXJ0PyI6InJlc3RhcnQ/IgogIH0sCiAgaGVscF9wbDoKICAgICJabWllbmlhaiBzbGFqZHkga2xpa2FqxIVjIG15c3rEhSwgbmFjaXNrYWrEhWMgc3BhY2rEmSwgc3RyemHFgmtpIGxld28vcHJhd28iICsKICAgICJsdWIgUGdVcCAvIFBnRG4uIFXFvHlqIGtsYXdpc3p5IFMgaSBCLCBhYnkgem1pZW5pxIcgcm96bWlhciBjemN6aW9ua2kuIiwKCiAgc3RyaW5nc19mcjogewogICAgInNsaWRlIjoicGFnZSIsCiAgICAiaGVscD8iOiJBaWRlIiwKICAgICJjb250ZW50cz8iOiJJbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YWJsZSBkZXMgbWF0acOocmVzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhYmxlIGRlcyBtYXRpw6hyZXMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVjb21tZW5jZXIgbCdleHBvc8OpIiwKICAgICJyZXN0YXJ0PyI6IkTDqWJ1dCIKICB9LAogIGhlbHBfZnI6CiAgICAiTmF2aWd1ZXogYXZlYyBsYSBzb3VyaXMsIGxhIGJhcnJlIGQnZXNwYWNlLCBsZXMgZmzDqGNoZXMgIiArCiAgICAiZ2F1Y2hlL2Ryb2l0ZSBvdSBsZXMgdG91Y2hlcyBQZyBVcCwgUGcgRG4uIFV0aWxpc2V6ICIgKwogICAgImxlcyB0b3VjaGVzIFMgZXQgQiBwb3VyIG1vZGlmaWVyIGxhIHRhaWxsZSBkZSBsYSBwb2xpY2UuIiwKCiAgc3RyaW5nc19odTogewogICAgInNsaWRlIjoib2xkYWwiLAogICAgImhlbHA/Ijoic2Vnw610c8OpZyIsCiAgICAiY29udGVudHM/IjoidGFydGFsb20iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoidGFydGFsb21qZWd5esOpayIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJUYXJ0YWxvbWplZ3l6w6lrIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6ImJlbXV0YXTDsyDDumpyYWluZMOtdMOhc2EiLAogICAgInJlc3RhcnQ/Ijoiw7pqcmFpbmTDrXTDoXMiCiAgfSwKICBoZWxwX2h1OgogICAgIkF6IG9sZGFsYWsga8O2enRpIGzDqXBrZWTDqXNoZXoga2F0dGludHNvbiBheiBlZ8OpcnJlbCwgdmFneSAiICsKICAgICJoYXN6bsOhbGphIGEgc3rDs2vDtnosIGEgYmFsLCB2YWd5IGEgam9iYiBuecOtbCwgaWxsZXR2ZSBhIFBhZ2UgRG93biwgIiArCiAgICAiUGFnZSBVcCBiaWxsZW50ecWxa2V0LiBBeiBTIMOpcyBhIEIgYmlsbGVudHnFsWtrZWwgdsOhbHRvenRhdGhhdGphICIgKwogICAgImEgc3rDtnZlZyBtw6lyZXTDqXQuIiwKCiAgc3RyaW5nc19pdDogewogICAgInNsaWRlIjoicGFnLiIsCiAgICAiaGVscD8iOiJBaXV0byIsCiAgICAiY29udGVudHM/IjoiSW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6ImluZGljZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJJbmRpY2UiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmljb21pbmNpYXJlIGxhIHByZXNlbnRhemlvbmUiLAogICAgInJlc3RhcnQ/IjoiSW5pemlvIgogIH0sCiAgaGVscF9pdDoKICAgICJOYXZpZ2FyZSBjb24gbW91c2UsIGJhcnJhIHNwYXppbywgZnJlY2NlIHNpbmlzdHJhL2Rlc3RyYSBvICIgKwogICAgIlBnVXAgZSBQZ0RuLiBVc2FyZSBTIGUgQiBwZXIgY2FtYmlhcmUgbGEgZGltZW5zaW9uZSBkZWkgY2FyYXR0ZXJpLiIsCgogIHN0cmluZ3NfZWw6IHsKICAgICJzbGlkZSI6Is+DzrXOu86vzrTOsSIsCiAgICAiaGVscD8iOiLOss6/zq7OuM61zrnOsTsiLAogICAgImNvbnRlbnRzPyI6Is+AzrXPgc65zrXPh8+MzrzOtc69zrE7IiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6Is+Azq/Ovc6xzrrOsc+CIM+AzrXPgc65zrXPh86/zrzOrc69z4nOvSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiLOoM6vzr3Osc66zrHPgiDOoM61z4HOuc61z4fOv868zq3Ovc+Jzr0iLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoizrXPgM6xzr3Otc66zrrOr869zrfPg863IM+AzrHPgc6/z4XPg86vzrHPg863z4IiLAogICAgInJlc3RhcnQ/IjoizrXPgM6xzr3Otc66zrrOr869zrfPg863OyIKICB9LAogIGhlbHBfZWw6CiAgICAizqDOu86/zrfOs863zrjOtc6vz4TOtSDOvM61IM+Ezr8gzrrOu86vzrogz4TOv8+FIM+Azr/Ovc+EzrnOus65zr/PjSwgz4TOvyBzcGFjZSwgz4TOsSDOss6tzrvOtyDOsc+BzrnPg8+EzrXPgc6sL860zrXOvs65zqwsICIgKwogICAgIs6uIFBhZ2UgVXAgzrrOsc65IFBhZ2UgRG93bi4gzqfPgc63z4POuc68zr/PgM6/zrnOrs+Dz4TOtSDPhM6xIM+AzrvOrs66z4TPgc6xIFMgzrrOsc65IEIgzrPOuc6xIM69zrEgzrHOu867zqzOvs61z4TOtSAiICsKICAgICLPhM6/IM68zq3Os861zrjOv8+CIM+EzrfPgiDOs8+BzrHOvM68zrHPhM6/z4POtc65z4HOrM+CLiIsCgogIHN0cmluZ3NfamE6IHsKICAgICJzbGlkZSI6IuOCueODqeOCpOODiSIsCiAgICAiaGVscD8iOiLjg5jjg6vjg5ciLAogICAgImNvbnRlbnRzPyI6IuebruasoSIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67mrKHjgpLooajnpLoiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5qyhIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IuacgOWIneOBi+OCieWGjeeUnyIsCiAgICAicmVzdGFydD8iOiLmnIDliJ3jgYvjgokiCiAgfSwKICBoZWxwX2phOgogICAgICLjg57jgqbjgrnlt6bjgq/jg6rjg4Pjgq8g44O7IOOCueODmuODvOOCuSDjg7sg5bem5Y+z44Kt44O8ICIgKwogICAgICLjgb7jgZ/jga8gUGFnZSBVcCDjg7sgUGFnZSBEb3du44Gn5pON5L2c77yMIFMg44O7IELjgafjg5Xjgqnjg7Pjg4jjgrXjgqTjgrrlpInmm7QiLAoKICBzdHJpbmdzX3poOiB7CiAgICAic2xpZGUiOiLlubvnga/niYciLAogICAgImhlbHA/Ijoi5biu5YqpPyIsCiAgICAiY29udGVudHM/Ijoi5YaF5a65PyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67lvZUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5b2VIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IumHjeaWsOWQr+WKqOWxleekuiIsCiAgICAicmVzdGFydD8iOiLph43mlrDlkK/liqg/IgogIH0sCiAgaGVscF96aDoKICAgICLnlKjpvKDmoIfngrnlh7ssIOepuuagvOadoSwg5bem5Y+z566t5aS0LCBQZyBVcCDlkowgUGcgRG4g5a+86IiqLiAiICsKICAgICLnlKggUywgQiDmlLnlj5jlrZfkvZPlpKflsI8uIiwKCiAgc3RyaW5nc19ydTogewogICAgInNsaWRlIjoi0YHQu9Cw0LnQtCIsCiAgICAiaGVscD8iOiLQv9C+0LzQvtGJ0Yw/IiwKICAgICJjb250ZW50cz8iOiLRgdC+0LTQtdGA0LbQsNC90LjQtT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoi0L7Qs9C70LDQstC70LXQvdC40LUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi0J7Qs9C70LDQstC70LXQvdC40LUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoi0L/QtdGA0LXQt9Cw0L/Rg9GB0YLQuNGC0Ywg0L/RgNC10LfQtdC90YLQsNGG0LjRjiIsCiAgICAicmVzdGFydD8iOiLQv9C10YDQtdC30LDQv9GD0YHQuj8iCiAgfSwKICBoZWxwX3J1OgogICAgItCf0LXRgNC10LzQtdGJ0LDQudGC0LXRgdGMINC60LvQuNC60LDRjyDQvNGL0YjQutC+0LksINC40YHQv9C+0LvRjNC30YPRjyDQutC70LDQstC40YjRgyDQv9GA0L7QsdC10LssINGB0YLRgNC10LvQutC4IiArCiAgICAi0LLQu9C10LLQvi/QstC/0YDQsNCy0L4g0LjQu9C4IFBnIFVwINC4IFBnIERuLiDQmtC70LDQstC40YjQuCBTINC4IEIg0LzQtdC90Y/RjtGCINGA0LDQt9C80LXRgCDRiNGA0LjRhNGC0LAuIiwKCiAgc3RyaW5nc19zdjogewogICAgInNsaWRlIjoic2lkYSIsCiAgICAiaGVscD8iOiJoasOkbHAiLAogICAgImNvbnRlbnRzPyI6ImlubmVow6VsbCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbm5laMOlbGxzZsO2cnRlY2tuaW5nIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IklubmVow6VsbHNmw7ZydGVja25pbmciLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoidmlzYSBwcmVzZW50YXRpb25lbiBmcsOlbiBiw7ZyamFuIiwKICAgICJyZXN0YXJ0PyI6ImLDtnJqYSBvbSIKICB9LAogIGhlbHBfc3Y6CiAgICAiQmzDpGRkcmEgbWVkIGV0dCBrbGljayBtZWQgdsOkbnN0cmEgbXVza25hcHBlbiwgbWVsbGFuc2xhZ3N0YW5nZW50ZW4sICIgKwogICAgInbDpG5zdGVyLSBvY2ggaMO2Z2VycGlsdGFuZ2VudGVybmEgZWxsZXIgdGFuZ2VudGVybmEgUGcgVXAsIFBnIERuLiAiICsKICAgICJBbnbDpG5kIHRhbmdlbnRlcm5hIFMgb2NoIEIgZsO2ciBhdHQgw6RuZHJhIHRleHRlbnMgc3Rvcmxlay4iLAoKICBzdHJpbmdzOiB7IH0sCgogIGxvY2FsaXplOiBmdW5jdGlvbiAoc3JjKSB7CiAgICBpZiAoc3JjID09ICIiKQogICAgICByZXR1cm4gc3JjOwoKICAgICAvLyB0cnkgZnVsbCBsYW5ndWFnZSBjb2RlLCBlLmcuIGVuLVVTCiAgICAgdmFyIHMsIGxvb2t1cCA9IHczY19zbGlkeS5zdHJpbmdzW3czY19zbGlkeS5sYW5nXTsKCiAgICAgaWYgKGxvb2t1cCkKICAgICB7CiAgICAgICBzID0gbG9va3VwW3NyY107CgogICAgICAgaWYgKHMpCiAgICAgICAgcmV0dXJuIHM7CiAgICAgfQoKICAgICAvLyBzdHJpcCBjb3VudHJ5IGNvZGUgc3VmZml4LCBlLmcuCiAgICAgLy8gdHJ5IGVuIGlmIHVuZGVmaW5lZCBmb3IgZW4tVVMKICAgICB2YXIgbGcgPSB3M2Nfc2xpZHkubGFuZy5zcGxpdCgiLSIpOwoKICAgICBpZiAobGcubGVuZ3RoID4gMSkKICAgICB7CiAgICAgICBsb29rdXAgPSB3M2Nfc2xpZHkuc3RyaW5nc1tsZ1swXV07CgogICAgICAgaWYgKGxvb2t1cCkKICAgICAgIHsKICAgICAgICAgcyA9IGxvb2t1cFtzcmNdOwoKICAgICAgICAgaWYgKHMpCiAgICAgICAgICByZXR1cm4gczsKICAgICAgIH0KICAgICB9CgogICAgIC8vIG90aGVyd2lzZSBzdHJpbmcgYXMgaXMKICAgICByZXR1cm4gc3JjOwogIH0sCgogIGluaXRfbG9jYWxpemF0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaTE4biA9IHczY19zbGlkeTsKICAgIHZhciBoZWxwX3RleHQgPSB3M2Nfc2xpZHkuaGVscF90ZXh0OwoKICAgIC8vIGVhY2ggc3VjaCBsYW5ndWFnZSBhcnJheSBpcyBkZWNsYXJlZCBpbiB0aGUgbG9jYWxpemUgYXJyYXkKICAgIC8vIHRoaXMgaXMgdXNlZCBhcyBpbiAgdzNjX3NsaWR5LmxvY2FsaXplKCJmb28iKTsKICAgIHRoaXMuc3RyaW5ncyA9IHsKICAgICAgImVzIjp0aGlzLnN0cmluZ3NfZXMsCiAgICAgICJjYSI6dGhpcy5zdHJpbmdzX2NhLAogICAgICAiY3MiOnRoaXMuc3RyaW5nc19jcywKICAgICAgIm5sIjp0aGlzLnN0cmluZ3NfbmwsCiAgICAgICJkZSI6dGhpcy5zdHJpbmdzX2RlLAogICAgICAicGwiOnRoaXMuc3RyaW5nc19wbCwKICAgICAgImZyIjp0aGlzLnN0cmluZ3NfZnIsCiAgICAgICJodSI6dGhpcy5zdHJpbmdzX2h1LAogICAgICAiaXQiOnRoaXMuc3RyaW5nc19pdCwKICAgICAgImVsIjp0aGlzLnN0cmluZ3NfZWwsCiAgICAgICJqcCI6dGhpcy5zdHJpbmdzX2phLAogICAgICAiemgiOnRoaXMuc3RyaW5nc196aCwKICAgICAgInJ1Ijp0aGlzLnN0cmluZ3NfcnUsCiAgICAgICJzdiI6dGhpcy5zdHJpbmdzX3N2CiAgICB9LAoKICAgIGkxOG4uc3RyaW5nc19lc1toZWxwX3RleHRdID0gaTE4bi5oZWxwX2VzOwogICAgaTE4bi5zdHJpbmdzX2NhW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfY2E7CiAgICBpMThuLnN0cmluZ3NfY3NbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9jczsKICAgIGkxOG4uc3RyaW5nc19ubFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX25sOwogICAgaTE4bi5zdHJpbmdzX2RlW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfZGU7CiAgICBpMThuLnN0cmluZ3NfcGxbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9wbDsKICAgIGkxOG4uc3RyaW5nc19mcltoZWxwX3RleHRdID0gaTE4bi5oZWxwX2ZyOwogICAgaTE4bi5zdHJpbmdzX2h1W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfaHU7CiAgICBpMThuLnN0cmluZ3NfaXRbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9pdDsKICAgIGkxOG4uc3RyaW5nc19lbFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX2VsOwogICAgaTE4bi5zdHJpbmdzX2phW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfamE7CiAgICBpMThuLnN0cmluZ3NfemhbaGVscF90ZXh0XSA9IGkxOG4uaGVscF96aDsKICAgIGkxOG4uc3RyaW5nc19ydVtoZWxwX3RleHRdID0gaTE4bi5oZWxwX3J1OwogICAgaTE4bi5zdHJpbmdzX3N2W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfc3Y7CgogICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJsYW5nIik7CgogICAgaWYgKCF3M2Nfc2xpZHkubGFuZykKICAgICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpOwoKICAgIGlmICghdzNjX3NsaWR5LmxhbmcpCiAgICAgIHczY19zbGlkeS5sYW5nID0gImVuIjsKICB9Cn07CgovLyBoYWNrIGZvciBiYWNrIGJ1dHRvbiBiZWhhdmlvcgppZiAodzNjX3NsaWR5LmllNiB8fCB3M2Nfc2xpZHkuaWU3KQp7CiAgZG9jdW1lbnQud3JpdGUoIjxpZnJhbWUgaWQ9J2hpc3RvcnlGcmFtZScgIiArCiAgInNyYz0namF2YXNjcmlwdDpcIjxodG1sIisiPjwvIisiaHRtbD5cIicgIiArCiAgImhlaWdodD0nMScgd2lkdGg9JzEnICIgKwogICJzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7bGVmdDotODAwcHgnPjwvaWZyYW1lPiIpOwp9CgovLyBhdHRhY2ggZXZlbnQgbGlzdGVuZXJzIGZvciBpbml0aWFsaXphdGlvbgp3M2Nfc2xpZHkuc2V0X3VwKCk7CgovLyBoaWRlIHRoZSBzbGlkZXMgYXMgc29vbiBhcyBib2R5IGVsZW1lbnQgaXMgYXZhaWxhYmxlCi8vIHRvIHJlZHVjZSBhbm5veWluZyBzY3JlZW4gbWVzcyBiZWZvcmUgdGhlIG9ubG9hZCBldmVudApzZXRUaW1lb3V0KHczY19zbGlkeS5oaWRlX3NsaWRlcywgNTApOwoK"></script>
</head>
<body>
<div class="slide section level2">

<div style="text-align:center" markdown="1">
<br><br><br><br><br><br>
<h2>
Introduction au package data.table
</h2>
<h3>
B.Thieurmel - <a href="mailto:benoit.thieurmel@datastorm.fr">benoit.thieurmel@datastorm.fr</a>
</h3>
<p><img src="data:image/jpeg;base64,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" alt="Drawing" style="width: 200px;" /> <img src="data:image/png;base64,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" alt="Drawing" style="width: 350px;" /></p>
</div>
</div>
<div id="introduction" class="slide section level2">
<h2>Introduction</h2>
<ul>
<li>C’est comme un <code>data-frame</code> mais…</li>
<li>en <strong>plus rapide</strong> dans les requêtes</li>
<li>et en <strong>plus rapide</strong> dans les calculs !</li>
<li>avec une <strong>syntaxe particulière</strong>, proche du <strong>SQL</strong> :</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DT[i, j, by]

##   R:      i                 j        by
## SQL:  where   select | update  group by</code></pre></div>
<p><strong>utilise l’objet DT, en sélectionnant les lignes via <em>i</em>, en calculant <em>j</em>, groupé par <em>by</em></strong></p>
<p><a href="https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-intro-vignette.html">Vignette d’introduction</a> : <a href="https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-intro-vignette.html" class="uri">https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-intro-vignette.html</a></p>
<p><a href="https://github.com/Rdatatable/data.table/wiki/Getting-started">Wiki</a> : <a href="https://github.com/Rdatatable/data.table/wiki/Getting-started" class="uri">https://github.com/Rdatatable/data.table/wiki/Getting-started</a></p>
<p><a href="https://s3.amazonaws.com/assets.datacamp.com/img/blog/data+table+cheat+sheet.pdf">cheatsheet</a> : <a href="https://s3.amazonaws.com/assets.datacamp.com/img/blog/data+table+cheat+sheet.pdf" class="uri">https://s3.amazonaws.com/assets.datacamp.com/img/blog/data+table+cheat+sheet.pdf</a></p>
</div>
<div id="exemples" class="slide section level2">
<h2>Exemples</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(data.table)

values =<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">500000</span> <span class="op">*</span><span class="st"> </span><span class="dv">26</span>)
<span class="co"># un data.frame</span>
df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">letters =</span> <span class="kw">rep</span>(LETTERS, <span class="dt">each =</span> <span class="dv">500000</span>), <span class="dt">values =</span> values)

<span class="co"># idem, mais avec data.table</span>
dt &lt;-<span class="st"> </span><span class="kw">data.table</span>(<span class="dt">letters =</span> <span class="kw">rep</span>(LETTERS, <span class="dt">each =</span> <span class="dv">500000</span>), <span class="dt">values =</span> values)
<span class="co"># (=) dt &lt;- as.data.table(df)</span>

<span class="kw">print</span>(<span class="kw">object.size</span>(df), <span class="dt">units =</span><span class="st">'Mb'</span>)</code></pre></div>
<pre><code>## 148.8 Mb</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(<span class="kw">object.size</span>(dt), <span class="dt">units =</span><span class="st">'Mb'</span>)</code></pre></div>
<pre><code>## 198.4 Mb</code></pre>
</div>
<div class="slide section level2">

<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(df)</code></pre></div>
<pre><code>## [1] 13000000        2</code></pre>
<ul>
<li>somme des valeurs pour chaque lettre :</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># en utilisant un aggregate</span>
<span class="kw">system.time</span>(res1 &lt;-<span class="st"> </span><span class="kw">aggregate</span>(values <span class="op">~</span><span class="st"> </span>letters, <span class="dt">data =</span> df, <span class="dt">FUN =</span> sum))</code></pre></div>
<pre><code>##    user  system elapsed 
##    4.22    0.54    4.80</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># avec data.table</span>
<span class="kw">system.time</span>(res2 &lt;-<span class="st"> </span>dt[, <span class="kw">sum</span>(values), <span class="dt">by =</span> letters])</code></pre></div>
<pre><code>##    user  system elapsed 
##    0.34    0.03    0.20</code></pre>
</div>
<div class="slide section level2">

<ul>
<li>Ordonner par les valeurs</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># order sur data.frame</span>
<span class="kw">system.time</span>(
 res1 &lt;-<span class="st"> </span>df[<span class="kw">order</span>(df<span class="op">$</span>values), ]
)</code></pre></div>
<pre><code>##    user  system elapsed 
##    1.75    0.11    1.86</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># order avec data.table</span>
<span class="kw">system.time</span>(
  res2 &lt;-<span class="st"> </span>dt[<span class="kw">order</span>(values)]
  <span class="co"># = setorder(dt, values)</span>
)</code></pre></div>
<pre><code>##    user  system elapsed 
##    1.83    0.22    1.44</code></pre>
</div>
<div class="slide section level2">

<ul>
<li>Faire un subset</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># data.frame</span>
<span class="kw">system.time</span>(
  res1 &lt;-<span class="st"> </span>df[df<span class="op">$</span>letters <span class="op">==</span><span class="st"> &quot;M&quot;</span>, ]
)</code></pre></div>
<pre><code>##    user  system elapsed 
##    0.10    0.00    0.09</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># data.table</span>
<span class="kw">system.time</span>(
  res2 &lt;-<span class="st"> </span>dt[letters <span class="op">==</span><span class="st"> &quot;M&quot;</span>, ]
)</code></pre></div>
<pre><code>##    user  system elapsed 
##    0.11    0.03    0.08</code></pre>
</div>
<div id="lecture-ecriture" class="slide section level2">
<h2>Lecture / écriture</h2>
<ul>
<li>Utilisation de la fonction <code>fread</code> pour l’importation de fichier :</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># read.table</span>
<span class="kw">system.time</span>(
  flights.df &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;flights14.csv&quot;</span>, <span class="dt">header =</span> T,<span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>)
)</code></pre></div>
<pre><code>##    user  system elapsed 
##    0.80    0.04    0.83</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># fread</span>
<span class="kw">system.time</span>(
  flights.dt &lt;-<span class="st"> </span><span class="kw">fread</span>(<span class="st">&quot;flights14.csv&quot;</span>)
)</code></pre></div>
<pre><code>##    user  system elapsed 
##    0.08    0.03    0.07</code></pre>
<p><strong>Nettement plus performante pour la lecture des fichiers plats que read.table, read.csv, ….</strong></p>
<p><strong>La fonction fwrite (&gt;= 1.9.7) existe également pour l’écriture rapide dans un fichier</strong></p>
</div>
<div id="selection" class="slide section level2">
<h2>Sélection</h2>
<ul>
<li>Jeux de données pour les exemples à suivre :</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">1234</span>)

dt &lt;-<span class="st"> </span><span class="kw">data.table</span>(<span class="dt">group =</span> <span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>), 
                 <span class="dt">cat =</span> <span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>), <span class="dt">each =</span> <span class="dv">5000</span>), 
                 <span class="dt">value =</span> <span class="kw">rnorm</span>(<span class="dv">10000</span>), 
                 <span class="dt">weight =</span> <span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">10000</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>))
<span class="kw">head</span>(dt)</code></pre></div>
<pre><code>##    group cat      value weight
## 1:     A   C -1.2070657      5
## 2:     B   C  0.2774292      7
## 3:     A   C  1.0844412      1
## 4:     B   C -2.3456977      4
## 5:     A   C  0.4291247      9
## 6:     B   C  0.5060559      8</code></pre>
</div>
<div class="slide section level2">

<h3 id="sur-les-lignes">Sur les lignes</h3>
<ul>
<li>Pas de rownames dans un <strong>data.table</strong></li>
<li>On peut utiliser les indices numériques (<em>comme avec les data.frame</em>)</li>
<li>Ou faire un subset rapide en utilisant les noms de colonnes</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, ]
dt[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">5</span>)] <span class="co"># pas obliger de mettre une virgule...</span>
dt[weight <span class="op">&gt;</span><span class="st"> </span><span class="dv">8</span>, ] <span class="co"># pas besoin de &quot;&quot; ou '' pour les noms</span>
dt[<span class="kw">order</span>(value)]</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, ]</code></pre></div>
<pre><code>##    group cat      value weight
## 1:     A   C -1.2070657      5
## 2:     B   C  0.2774292      7</code></pre>
</div>
<div class="slide section level2">

<h3 id="sur-les-colonnes">Sur les colonnes</h3>
<ul>
<li>Par défaut (historiquement), avec les noms de colonnes <strong>sans quote</strong> dans une liste</li>
<li>Sélection numérique <strong>possible</strong> avec <strong>data.table</strong> &gt;= 1.9.7, <strong>impossible avant</strong></li>
<li><strong>avec quote</strong> : <strong>data.table</strong> &gt;= 1.9.7 ou avec l’utilisation explicite de l’option <code>with = FALSE</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[, <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)] ## marche maintenant !
dt[, value] ## vecteur
dt[, <span class="kw">list</span>(value)] ## data.table
dt[, <span class="st">&quot;value&quot;</span>] ## data.table
<span class="co"># plusieurs colonnes</span>
dt[, <span class="kw">list</span>(group, value)] ## data.table
dt[, .(group, value)] ## raccourci (. == list)
dt[, <span class="kw">c</span>(<span class="st">&quot;group&quot;</span>, <span class="st">&quot;value&quot;</span>), with =<span class="st"> </span><span class="ot">FALSE</span>] ## avec des &quot;noms&quot;
## renommage
dt[, <span class="kw">list</span>(<span class="dt">mygroup =</span> group, <span class="dt">myvalue =</span> value)]</code></pre></div>
<pre><code>##    mygroup    myvalue
## 1:       A -1.2070657
## 2:       B  0.2774292</code></pre>
</div>
<div id="manipulation" class="slide section level2">
<h2>Manipulation</h2>
<h3 id="ajoutsuppression-de-colonnes">Ajout/Suppression de colonnes</h3>
<ul>
<li>via l’opérateur <code>:=</code> (éviter <code>cbind</code>, peu performant)</li>
<li>retourne le résultat de façon <em>invisible</em></li>
<li>suppression avec <code>NULL</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[, tvalue <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw">trunc</span>(value)]</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</code></pre></div>
<pre><code>##    group cat      value weight tvalue
## 1:     A   C -1.2070657      5     -1
## 2:     B   C  0.2774292      7      0</code></pre>
</div>
<div class="slide section level2">

<ul>
<li>plusieurs colonnes</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[, <span class="kw">c</span>(<span class="st">&quot;tvalue&quot;</span>, <span class="st">&quot;rvalues&quot;</span>) <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw">list</span>(<span class="kw">trunc</span>(value), <span class="kw">round</span>(value ,<span class="dv">2</span>))]
dt[, <span class="st">':='</span> (<span class="dt">tvalue =</span> <span class="kw">trunc</span>(value), <span class="dt">rvalue =</span> <span class="kw">round</span>(value ,<span class="dv">2</span>))] <span class="co"># alternative</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</code></pre></div>
<pre><code>##    group cat      value weight tvalue rvalues
## 1:     A   C -1.2070657      5     -1   -1.21
## 2:     B   C  0.2774292      7      0    0.28</code></pre>
<ul>
<li>suppression</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[, rvalues <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="ot">NULL</span>]</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</code></pre></div>
<pre><code>##    group cat      value weight tvalue
## 1:     A   C -1.2070657      5     -1
## 2:     B   C  0.2774292      7      0</code></pre>
</div>
<div class="slide section level2">

<h3 id="modification-de-colonnes">Modification de colonnes</h3>
<ul>
<li>via l’opérateur <code>:=</code>, et donc avec un <strong>nom de colonne existante</strong>…</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt &lt;-<span class="st"> </span>dt[, tvalue <span class="op">:</span><span class="er">=</span><span class="st"> </span>tvalue <span class="op">+</span><span class="st"> </span><span class="dv">10</span>]</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</code></pre></div>
<pre><code>##    group cat      value weight tvalue
## 1:     A   C -1.2070657      5      9
## 2:     B   C  0.2774292      7     10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># sur un sous-ensemble de ligne uniquement :</span>
dt &lt;-<span class="st"> </span>dt[group <span class="op">==</span><span class="st"> &quot;A&quot;</span>, tvalue <span class="op">:</span><span class="er">=</span><span class="st"> </span>tvalue <span class="op">+</span><span class="st"> </span><span class="dv">100</span>]</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</code></pre></div>
<pre><code>##    group cat      value weight tvalue
## 1:     A   C -1.2070657      5    109
## 2:     B   C  0.2774292      7     10</code></pre>
</div>
<div class="slide section level2">

<h3 id="calculs">Calculs</h3>
<ul>
<li>On peut effectuer tous les calculs directement</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[, <span class="kw">sum</span>(value)] <span class="co"># un vecteur</span></code></pre></div>
<pre><code>## [1] 61.15893</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[, <span class="kw">list</span>(<span class="kw">sum</span>(value))] <span class="co"># un data.table</span></code></pre></div>
<pre><code>##          V1
## 1: 61.15893</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># sous-population + calculs multiples + renommage</span>
dt[group <span class="op">==</span><span class="st"> &quot;B&quot;</span>, <span class="kw">list</span>(<span class="dt">somme =</span> <span class="kw">sum</span>(value), <span class="dt">moyenne =</span> <span class="kw">mean</span>(value))] </code></pre></div>
<pre><code>##        somme    moyenne
## 1: -75.82302 -0.0151646</code></pre>
</div>
<div class="slide section level2">

<ul>
<li>on peut enchainer plusieurs expressions avec des accolades</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[, {t =<span class="st"> </span><span class="kw">table</span>(group)
  <span class="kw">barplot</span>(t)
  <span class="ot">NULL</span>}]</code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8AAAAMACAMAAADc4P4dAAAAsVBMVEUAAAAAADoAAGYAOjoAOmYAOpAAZrY6AAA6OgA6Ojo6OmY6OpA6ZmY6ZpA6ZrY6kNtmAABmOgBmOjpmZmZmkJBmkLZmtttmtv+QOgCQOjqQZgCQZjqQtraQttuQtv+Q2/+2ZgC2Zjq2kGa2kLa2tpC2tra2ttu229u22/+2//++vr7bkDrbkGbbtmbbtpDbtrbb27bb29vb2//b////tmb/25D/27b/29v//7b//9v///8avGkSAAAACXBIWXMAAB2HAAAdhwGP5fFlAAAXIUlEQVR4nO3dbXcbZZKAYZlJYrKzDGS0gewCSyaDSFgvkICTRf7/P2ylmIrfcszIri51PbquDzNYR2rpSL7TrX4pL86Athb7fgHA3QkYGhMwNCZgaEzA0JiAoTEBQ2MChsYEDI0JGBoTMDQmYGhMwNCYgKExAUNjAobGBAyNCRgaEzA0JmBoTMDQmIChMQFDYwKGxgQMjQkYGhMwNCZgaEzA0JiAoTEBQ2MChsYEDI0JGBoTMDQmYGhMwNCYgKExAUNjAobGBAyNCRgaEzA0JmBoTMDQmIChMQFDYwKGxgQMjQkYGhMwNCZgaEzA0JiAoTEBQ2MChsYEDI0JGBoTMDQmYGhMwNCYgKExAUNjAobGBAyNCRgaEzA0JmBoTMDQmIChMQFDYwKGxgQMjQkYGhMwNCZgaEzA0JiAoTEBQ2MChsYEDI0JGBoTMDQmYGhMwNCYgKExAUNjAobGBAyNCRgaEzA0JmBoTMDQmIChMQFDYwKGxgQMjQkYGhMwNCZgaEzA0JiAoTEBQ2MChsYEDI0JGBoTMDQmYGhMwNCYgKExAUNjAobGBAyNCRgaEzA0JmBoTMDQmIChMQFDYwKGxgQMjU0e8PrNL6vV6oc3v039RHCApg349deLC5+9nPS54ABNGfC7J4urHnw34bPBAZow4NPjbbSPl+c+3f5w9NV0TwcHaLqAf/9iE+y3l274eRP0Jz9O9nxwgKYL+ORGrtukP5/s+eAATRbw+tlicX2D+XSxeGhvNOSZLODN6vbG9vLHbgPuTsDQ2JSb0EfXjxrZhIZc0+3Een6j1u3X4keTPR8coOkCfnu8KfjVpRvebfq9sVIG7mHCEzlO3p+6sfxmtfX9+ZkcjiJBpilPpfzp+NqplEdfTvhscIAmvZhh/eJywkdP7cCCXFNfTrh+vXqxXC6frl6qF9K5oB8aEzA0ZiIHNGYiBzRmIgc0ZiIHNGYiBzRmIgc0ZiIHNOaCfmhMwNCYiRzQmIkc0JiJHNCYiRzQmIkc0JiJHNCYiRzQ2Iwu6F/ctOPduUXyR8Mt7vNe7/rRFD7Xn9jpnaj+SPrL/WC4zd3f690/nKmf4D4TOW4N+H/Ywf0C3ver72WggO85kUPAaQRcZ5iA7z2RQ8BpBFxnlIDvP5FDwGkEXGeQgBMmcgg4jYDrDBJwwkQOAacRcJ0xAs6YyCHgNAKuM0bAGRf0CziNgOsIOAg4jYDrjBFwxkQOAacRcJ0xAs6YyCHgNAKuM0jACRM5BJxGwHUGCThhIoeA0wi4zigB338ih4DTCLjOMAHfeyKHgNMIuM44AZ/dcyKHgNMIuM5QAd+LgNMIuI6Ag4DTCLjOgAGvf1n98OvuDxNwGgHXGSTg/3sTyf58fmH/0d/sxNobAdcZI+AP5z2v/3GxH3q36/kFnEfAdQYL+Pm23H9fLv++TdhEjj0RcJ2xAj7dZHu+7bw9ldJEjj0RcJ2xAn5+cQHD9mIGEzn2Q8B1hgr4ymAOlxPujYDrDBXwlWv4XdC/NwKuI+Ag4DQCrjNUwJvvwBfXAL89FvCeCLjOOAFvyz29tOPKd+C9EXCdYQLe+Mt/vPyvD6tgc6H3R8B1Rgr43Pvt5vX/+ssM+yPgOmMEvL0U+MXfjy8Cfv+nVnb762YCTiPgOqME/N77iiPgB6/+9P5XCDiNgOsMFfCF9T93zFfAiQRcZ9CA70DAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRc51ADXnzELXfe98fUi4DrCFjA6QRc51ADvknAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcR8BBwGkEXEfAQcBpBFxHwEHAaQRcZ6yA129+Wa1WP7z57Q6PFXAaAdcZKODXXy8ufPZy14cLOI2A6wwT8Lsni6sefLfbAgScRsB1Rgn49Hgb7ePluU+3Pxx9tdMSBJxGwHUGCfj3LzbBfnvphp83QX/y4y6LEHAaAdcZJOCTG7luk/58l0UIOI2A64wR8PrZYnF9g/l0sXi4y95oAacRcJ0xAt6sbm9sL3/sttsIOI2A6wg4CDiNgOuMEfBmE/ro+lEjm9B7I+A6YwR89vxGrduvxY92WYSA0wi4ziABvz3eFPzq0g3vNv3eWCnfSsBpBFxnkIC3x5E2xS6/WW19f34mx05HkQScR8B1Rgn47Kfja6dSHn252wIEnEbAdYYJ+Gz94nLCR093vSJJwGkEXGecgDfWr1cvlsvl09XLO1xPKOA0Aq4zVMD3IuA0Aq4j4CDgNAKuM1bAJnLMgoDrDBSwiRxzIeA6wwRsIsd8CLjOKAGbyDEjAq4zSMAmcsyJgOsMErCJHHMi4DpjBGwix6wIuM4YAbugf1YEXEfAQcBpBFxnjIBN5JgVAdcZI2ATOWZFwHUGCdhEjjkRcJ1BAjaRY04EXGeUgE3kmBEB1xkmYBM55kPAdcYJ+MxEjrkQcJ2hAt7B4iNuufO+P6ZeBFxHwAJOJ+A6YwVsIscsCLjOQAGbyDEXAq4zTMAmcsyHgOuMErCJHDMi4DqDBGwix5wIuM4gAZvIMScCrjNGwCZyzIqA64wRsAv6Z0XAdQQcBJxGwHXGCNhEjlkRcJ0xAjaRY1YEXGeQgE3kmBMB1xkkYBM55kTAdUYJ2ESOGRFwnWECNpFjPgRcZ5yAz0zkmAsB1xkq4HsRcBoB1xFwEHAaAdcZMuDXqx9+3flBAk4j4DojBXw+SeePnVkPvv2zu18j4DQCrjNMwO++/mMKx/PYEf233RYg4DQCrjNKwG/PjyEdfXe6+d9/Wy6PncixPwKuM0jA28v3F48/3ayDn5yfQbn+h1Mp90bAdQYJeDuR49Uf6+HzK/u3FzOYyLEfAq4zRsAfJnKcXFyV5HLCvRFwnTEC/nDx/mYV/Oj6bf8iAacRcJ3BAt78h4D3TsB1hgn4fI/V+j8f//WP7ebNyljA+yHgOmMEvD34e32P1YmJHPsi4DqDBHx646DRO3Oh90bAdQYJeLsbevHXi53O78+n3GkntIDzCLjOIAGf/f7kyt9meP+nVnb762YCTiPgOqMEvF3nXg34watb7v0RAk4j4DrDBHzV+p875ivgRAKuM2jAdyDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuc6gBLz7iljvv+2PqRcB1BCzgdAKuc6gB3yTgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuI+Ag4DQCriPgIOA0Aq4j4CDgNAKuM1bA6ze/rFarH978dofHCjiNgOsMFPDrrxcXPnu568MFnEbAdYYJ+N2TxVUPvtttAQJOI+A6owR8eryN9vHy3KfbH46+2mkJAk4j4DqDBPz7F5tgv710w8+boD/5cZdFCDiNgOsMEvDJjVy3SX++yyIEnEbAdcYIeP1ssbi+wXy6WDzcZW+0gNMIuM4YAW9Wtze2lz92220EnEbAdQQcBJxGwHXGCHizCX10/aiRTei9EXCdMQI+e36j1u3X4ke7LELAaQRcZ5CA3x5vCn516YZ3m35vrJRvJeA0Aq4zSMDb40ibYpffrLa+Pz+TY6ejSALOI+A6owR89tPxtVMpj77cbQECTiPgOsMEfLZ+cTnho6e7XpEk4DQCrjNOwBvr16sXy+Xy6erlHa4nFHAaAdcZKuB7EXAaAdcRcBBwGgHXGStgEzlmQcB1BgrYRI65EHCdYQI2kWM+BFxnlIBN5JgRAdcZJGATOeZEwHUGCdhEjjkRcJ0xAjaRY1YEXGeMgF3QPysCriPgIOA0Aq4zRsAmcsyKgOuMEbCJHLMi4DqDBGwix5wIuM4gAZvIMScCrjNKwCZyzIiA6wwTsIkc8yHgOuMEfGYix1wIuM5QAe9g8RG33HnfH1MvAq4jYAGnE3CdsQI2kWMWBFxnoIBN5JgLAdcZJmATOeZDwHVGCdhEjhkRcJ1BAjaRY04EXGeQgE3kmBMB1xkjYBM5ZkXAdcYI2AX9syLgOgIOAk4j4DpjBGwix6wIuM4YAZvIMSsCrjNIwCZyzImA6wwSsIkccyLgOqMEbCLHjAi4zjABm8gxHwKuM07AZyZyzIWA6wwV8L0IOI2A6wg4CDiNgOsIOAg4jYDrCDgIOI2A6wg4CDiNgOsIOAg4jYDrCDgIOI2A64wR8Hb8xke4nHA/BFxHwB9enICzCLjOGAHfHCor4D0ScJ1BAn5/+e9uVx9dJ+A0Aq4zSsAfnWu3EwGnEXCdYQLeeQbWdQJOI+A64wS8HYJ1n41oAacRcJ2BAt5sRN9nFSzgNAKuM1DAZ2+Xy/+++6MFnEbAdUYK+H4EnEbAdQQcBJxGwHUEHAScRsB1BBwEnEbAdQQcBJxGwHUEHAScRsB1BBwEnEbAdQQcBJxGwHUEHAScRsB1BBwEnEbAdQQcBJxGwHUEHAScRsB1BBwEnEbAdQQcBJxGwHUEHAScRsB1BBwEnEbAdQQcBJxGwHUEHAScRsB1BBwEnEbAdQQcBJxGwHUEHAScRsB1BBwEnEbAdQQcBJxGwHUEHAScRsB1BBwEnEbAdQQcBJxGwHUEHAScRsB1BBwEnEbAdQQcBJxGwHUEHAScRsB1BBwEnEbAdQQcBJxGwHUEHAScRsB1BBwEnEbAdQQcBJxGwHUEHAScRsB1BBwEnEbAdQQcBJxGwHUEHAScRsB1BBwEnEbAdQQcBJxGwHUEHAScRsB1xgp4/eaX1Wr1w5vf7vBYAacRcJ2BAn799eLCZy93fbiA0wi4zjABv3uyuOrBd7stQMBpBFxnlIBPj7fRPl6e+3T7w9FXOy1BwGkEXGeQgH//YhPst5du+HkT9Cc/7rIIAacRcJ1BAj65kes26c93WYSA0wi4zhgBr58tFtc3mE8Xi4e77I0WcBoB1xkj4M3q9sb28sduu/RSPmKnO3Obu3+U+37l/dz9vd79w5lqwQKembt/lPt+5f3c/b3e/cOZasGbTeij60eNdt2EBm433T8Wz2/Uuv1a/Giy54MDNF3Ab483Bb+6dMO7Tb83VsrAPUy4uX6y/TZwtPxmtfX9+ZkcOx1FAv7ElN+3fzq+9t3+6MsJnw0O0KQ7zNYvLid89NQOLMg19R7v9evVi+Vy+XT1Ur2QbtYX9AO3EzA0JmBoTMDQmIChMQFDYwKGxgQMjQkYGhMwNCZgaEzA0JiAoTEBQ2MChsYEDI0JGBoTMDQmYGhMwNCYgKExAUNjAobGBAyNCRgaEzA0JmBoTMDQmIChMQFDYwKGxgQMjQkYGhMwNCZgaEzA0JiAoTEBQ2MChsYEDI0JGBoTMDQmYGhMwJlOF4uHv+37RQzvZPHB46e/7vvV7JmAE62fbX6nvtr3qxjepYAXi6Mv9/1y9kvAid4eb36jHu37VQzvSsCH/i+mgBOdLI4+XRx9t++XMbqTD9Guf35y6F9aBJzn9y8WD39aLD7f9+sY3cmlte7mPT/sfzEFnOd0E+/mF+qTH/f9QgZ3OeCz5we+DS3gPM+3K4ND/4UqcC1ga2BSvD3efh07tRtratc2oX0HJsXJ+6+/62cHvkqY3tWdWAf+bgs4S5R7YjfWxK4cRnrwat8vZ78EnGWzBf3oj/+3G2tSTuS4RMBZYu/V9nQsu7GmdO1EjsPe5SDgJBfHj5wQPbFL34Fff7048G8sAk5yemW77rB3rEzsymGkzQ8H/Y1FwDneX8dw4aBXClO7EvBmy+egv7EIOMf76xguHPRKYWpXAj70XQ4CznH54NGh/05NTcCXCDjF1XPqT+zGmtL1TeiD3uMg4BRX9zxvtqcP+pdqYnZiXSLgFM+v7LfabtYd9tHJSV0K+J3DSPt+AUO4fvbV6YGvFqZ17USOw36nBZzh5Noa99CPbUzrasAPDrpfAWe4uSf0ud1Y07kU8F8+e7nvV7NnAobGBAyNCRgaEzA0JmBoTMDQmIChMQFDYwKGxgQMjQkYGhMwNCZgaEzA0JiAoTEBQ2MChsYEDI0JGBoTMDQmYGhMwNCYgKExAUNjAobGBAyNCRgaEzA0JmBoTMDQmIChMQFDYwKGxgQMjQkYGhMwNCZgaEzA0JiAoTEBQ2MChsYEDI0JGBoTMDQmYGhMwNCYgKExAUNjAobGBAyNCRgaEzA0JmBoTMDQmIChMQFDYwKGxgQMjQkYGhMwNCZgaEzA0JiAoTEBQ2MChsYEDI0JGBoTMDQmYGhMwNCYgKExAUNjAobGBAyNCRgaEzA0JmBoTMDQmIChMQFDYwKGxgQMjQkYGhMwNCZgaEzA0JiAoTEBQ2MChsYEDI0JGBoTMDQmYGhMwNCYgKExAUNjAobGBAyNCRgaEzA0JmBoTMDQmIChMQFDYwKGxgQMjQkYGhMwNCZgaEzA0JiAoTEBQ2MChsYEDI0JGBoTMDQmYGhMwNCYgKExAUNjAobGBAyNCRgaEzA0JmBoTMDQ2P8DBB1Mg7bVqhEAAAAASUVORK5CYII=" width="480" /></p>
<pre><code>## NULL</code></pre>
</div>
<div class="slide section level2">

<h3 id="aggregation-par-niveaux">Aggrégation par niveaux</h3>
<ul>
<li>utilisation du <code>by</code>, avec <code>list()</code>, ou bien un vecteur de noms</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># par une variable</span>
dt[, <span class="kw">sum</span>(value), by =<span class="st"> </span>group] <span class="co"># dt[, sum(value), by = &quot;group&quot;]</span></code></pre></div>
<pre><code>##    group        V1
## 1:     A 136.98194
## 2:     B -75.82302</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># par plusieurs variables et calculs multiples</span>
dt[, <span class="kw">list</span>(<span class="dt">somme =</span> <span class="kw">sum</span>(value), <span class="dt">moy =</span> <span class="kw">mean</span>(value)), by =<span class="st"> </span><span class="kw">list</span>(group, cat)] </code></pre></div>
<pre><code>##    group cat      somme           moy
## 1:     A   C   2.125355  0.0008501418
## 2:     B   C -33.898836 -0.0135595342
## 3:     A   D 134.856590  0.0539426361
## 4:     B   D -41.924180 -0.0167696718</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># dt[, .(somme = sum(value), moy = mean(value)), by = c(&quot;group&quot;, &quot;cat&quot;)]</span></code></pre></div>
</div>
<div class="slide section level2">

<ul>
<li>On peut aussi utiliser des expressions dans le <code>by</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># somme des valeurs, avec un poids inférieur ou supérieur à 5, par groupe</span>
dt[, <span class="kw">sum</span>(value), by =<span class="st"> </span><span class="kw">list</span>(group, weight <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>)]</code></pre></div>
<pre><code>##    group weight        V1
## 1:     A  FALSE  58.74680
## 2:     B   TRUE -38.23590
## 3:     B  FALSE -37.58711
## 4:     A   TRUE  78.23514</code></pre>
<ul>
<li><code>by</code> garde l’ordre d’apparition des niveaux</li>
<li><code>keyby</code> ordonne le résultat</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[, .(<span class="dt">somme =</span> <span class="kw">sum</span>(value), <span class="dt">moy =</span> <span class="kw">mean</span>(value)), keyby =<span class="st"> </span><span class="kw">list</span>(group, cat)]</code></pre></div>
<pre><code>##    group cat      somme           moy
## 1:     A   C   2.125355  0.0008501418
## 2:     A   D 134.856590  0.0539426361
## 3:     B   C -33.898836 -0.0135595342
## 4:     B   D -41.924180 -0.0167696718</code></pre>
</div>
<div class="slide section level2">

<ul>
<li>Et affecter le/les résultats par niveaux aux données de départ</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># nouvelle colonne, avec la moyenne dans la categorie</span>
dt[, mean_cat <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw">mean</span>(value), by =<span class="st"> </span><span class="kw">list</span>(cat)]
dt</code></pre></div>
<pre><code>##        group cat       value weight tvalue     mean_cat
##     1:     A   C -1.20706575      5    109 -0.006354696
##     2:     B   C  0.27742924      7     10 -0.006354696
##     3:     A   C  1.08444118      1    111 -0.006354696
##     4:     B   C -2.34569770      4      8 -0.006354696
##     5:     A   C  0.42912469      9    110 -0.006354696
##    ---                                                 
##  9996:     B   D  0.01973902      7     10  0.018586482
##  9997:     A   D -2.12674529      6    108  0.018586482
##  9998:     B   D -0.05022201      9     10  0.018586482
##  9999:     A   D -0.23817408      7    110  0.018586482
## 10000:     B   D  0.77640531      7     10  0.018586482</code></pre>
</div>
<div class="slide section level2">

<h3 id="loperateur-.n-retourne-le-nombre-de-ligne">L’opérateur .N : retourne le nombre de ligne</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[, .N] <span class="co"># nombre de lignes des données</span></code></pre></div>
<pre><code>## [1] 10000</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># subset + renommage + tri</span>
dt[weight <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>, <span class="kw">list</span>(<span class="dt">rows =</span> .N), by =<span class="st"> </span><span class="kw">list</span>(group, cat)][<span class="kw">order</span>(<span class="op">-</span>rows)]</code></pre></div>
<pre><code>##    group cat rows
## 1:     A   D 1288
## 2:     B   D 1260
## 3:     A   C 1255
## 4:     B   C 1240</code></pre>
</div>
<div class="slide section level2">

<h3 id="graphiques-modeles">Graphiques, modèles, …</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[, {<span class="kw">hist</span>(value);<span class="ot">NULL</span>}] <span class="co"># suivi d'un NULL, sinon print dans la console...</span></code></pre></div>
<p><img src="data:image/png;base64,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" width="288" /></p>
<pre><code>## NULL</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># graphiques par groupe</span>
<span class="kw">par</span>(<span class="dt">ask=</span><span class="ot">TRUE</span>)
dt[, <span class="kw">hist</span>(value), by =<span class="st"> </span><span class="kw">list</span>(group, cat)] </code></pre></div>
</div>
<div class="slide section level2">

<h3 id="chainage">Chaînage</h3>
<ul>
<li>Les opérations sur un <strong>data.table</strong> retournent (en général) un <strong>data.table</strong></li>
<li>On peut donc enchaîner les opérations <strong>[…]</strong></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># somme et moyenne des valeurs pour group et cat</span>
<span class="co"># ordonné par somme</span>
dt[, <span class="kw">list</span>(<span class="dt">somme =</span> <span class="kw">sum</span>(value), <span class="dt">moy =</span> <span class="kw">mean</span>(value)), by =<span class="st"> </span><span class="kw">list</span>(group, cat)][<span class="kw">order</span>(somme)]</code></pre></div>
<pre><code>##    group cat      somme           moy
## 1:     B   D -41.924180 -0.0167696718
## 2:     B   C -33.898836 -0.0135595342
## 3:     A   C   2.125355  0.0008501418
## 4:     A   D 134.856590  0.0539426361</code></pre>
</div>
<div id="sd" class="slide section level2">
<h2>.SD</h2>
<ul>
<li><strong>.SD</strong> contient toutes les colonnes, <strong>à l’exception de celle(s) utilisée(s)</strong> dans le <code>by</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># regardons cela...</span>
dt[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="kw">print</span>(.SD), by =<span class="st"> </span>.(group)]</code></pre></div>
<pre><code>##    cat     value weight tvalue     mean_cat
## 1:   C -1.207066      5    109 -0.006354696
## 2:   C  1.084441      1    111 -0.006354696
##    cat      value weight tvalue     mean_cat
## 1:   C  0.2774292      7     10 -0.006354696
## 2:   C -2.3456977      4      8 -0.006354696</code></pre>
<pre><code>## Empty data.table (0 rows and 1 cols): group</code></pre>
<ul>
<li>pas utiliser nécessairement avec un <code>by</code></li>
</ul>
</div>
<div class="slide section level2">

<ul>
<li>on peut l’utiliser pour <strong>faire des calculs sur plusieurs colonnes</strong></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[, <span class="kw">lapply</span>(.SD, mean), by =<span class="st"> </span>.(group, cat)]</code></pre></div>
<pre><code>##    group cat         value weight   tvalue     mean_cat
## 1:     A   C  0.0008501418 5.4980 109.9960 -0.006354696
## 2:     B   C -0.0135595342 5.4468   9.9920 -0.006354696
## 3:     A   D  0.0539426361 5.5848 110.0348  0.018586482
## 4:     B   D -0.0167696718 5.5268   9.9840  0.018586482</code></pre>
<ul>
<li>une sous-sélection de colonnes est possible avec <strong>.SDcols</strong></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt[, <span class="kw">lapply</span>(.SD, mean), by =<span class="st"> </span>.(group), .SDcols =<span class="st"> &quot;value&quot;</span>] <span class="co"># avec un/des nom(s)</span></code></pre></div>
<pre><code>##    group       value
## 1:     A  0.02739639
## 2:     B -0.01516460</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ou des indices : dt[, lapply(.SD, mean), by = .(group), .SDcols = 3]</span></code></pre></div>
</div>
<div id="les-cles" class="slide section level2">
<h2>les clés</h2>
<ul>
<li><strong>data.table</strong> dispose d’un système de clés</li>
<li>le tableau est alors ordonné par les clés</li>
<li>les subsets sur les clés seront plus performants</li>
<li>argument <em>key</em> dans la fonction <strong>data.table</strong></li>
<li>ou <code>setkey</code> avec des noms de colonnes sans quote</li>
<li><code>setkeyv</code> avec quote</li>
<li><code>key</code> pour connaitre les clés de la table</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">1234</span>)
values =<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">384616</span> <span class="op">*</span><span class="st"> </span><span class="dv">26</span>)
dt &lt;-<span class="st"> </span><span class="kw">data.table</span>(<span class="dt">letters =</span> <span class="kw">rep</span>(LETTERS, <span class="dt">each =</span> <span class="dv">384616</span>), <span class="dt">group =</span> letters[<span class="dv">1</span><span class="op">:</span><span class="dv">16</span>], <span class="dt">values =</span> values)</code></pre></div>
</div>
<div class="slide section level2">

<ul>
<li>la sélection est plus rapide, et l’appel simplifié, <strong>par défaut dans l’ordre des clés</strong></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setkey</span>(dt, <span class="ot">NULL</span>)
<span class="kw">system.time</span>(
  dt[group <span class="op">==</span><span class="st"> &quot;f&quot;</span>, ]
)</code></pre></div>
<pre><code>##    user  system elapsed 
##    0.27    0.00    0.15</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setkey</span>(dt, group)
<span class="kw">system.time</span>(
  dt[<span class="st">&quot;f&quot;</span>, ]
)</code></pre></div>
<pre><code>##    user  system elapsed 
##    0.01    0.00    0.02</code></pre>
</div>
<div class="slide section level2">

<ul>
<li>clés multiples : sélection via une <em>liste</em></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setkey</span>(dt, <span class="ot">NULL</span>)
<span class="kw">system.time</span>(
  dt[letters <span class="op">==</span><span class="st"> &quot;M&quot;</span> <span class="op">&amp;</span><span class="st"> </span>group <span class="op">==</span><span class="st"> &quot;f&quot;</span>, ]
)</code></pre></div>
<pre><code>##    user  system elapsed 
##    0.15    0.03    0.10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setkey</span>(dt, letters, group)
<span class="kw">system.time</span>(
  dt[<span class="kw">list</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;f&quot;</span>), ]
)</code></pre></div>
<pre><code>##    user  system elapsed 
##    0.02    0.00    0.02</code></pre>
</div>
<div class="slide section level2">

<ul>
<li>clés et valeurs multiples : sélection via une <em>liste</em>, et des <em>vecteurs</em> de valeurs</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setkey</span>(dt, <span class="ot">NULL</span>)
<span class="kw">system.time</span>(
  dt[letters <span class="op">==</span><span class="st"> &quot;M&quot;</span> <span class="op">&amp;</span><span class="st"> </span>group <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;f&quot;</span>, <span class="st">&quot;g&quot;</span>), ]
)</code></pre></div>
<pre><code>##    user  system elapsed 
##    0.19    0.02    0.13</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setkey</span>(dt, letters, group)
<span class="kw">system.time</span>(
  dt[<span class="kw">list</span>(<span class="st">&quot;M&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;f&quot;</span>, <span class="st">&quot;g&quot;</span>)), ]
)</code></pre></div>
<pre><code>##    user  system elapsed 
##    0.00    0.01    0.01</code></pre>
</div>
<div id="transformation" class="slide section level2">
<h2>Transformation</h2>
<ul>
<li>Via deux fonctions <code>melt</code>, et <code>dcast</code>, basées sur celles présentes dans le package <strong>reshape2</strong></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># les données</span>
dt &lt;-<span class="st"> </span><span class="kw">data.table</span>(airquality)
dt</code></pre></div>
<pre><code>##      Ozone Solar.R Wind Temp Month Day
##   1:    41     190  7.4   67     5   1
##   2:    36     118  8.0   72     5   2
##   3:    12     149 12.6   74     5   3
##   4:    18     313 11.5   62     5   4
##   5:    NA      NA 14.3   56     5   5
##  ---                                  
## 149:    30     193  6.9   70     9  26
## 150:    NA     145 13.2   77     9  27
## 151:    14     191 14.3   75     9  28
## 152:    18     131  8.0   76     9  29
## 153:    20     223 11.5   68     9  30</code></pre>
</div>
<div class="slide section level2">

<h3 id="melt">melt</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">res_melt &lt;-<span class="st"> </span><span class="kw">melt</span>(<span class="dt">data =</span> dt, <span class="dt">id =</span> <span class="kw">c</span>(<span class="st">&quot;Month&quot;</span>, <span class="st">&quot;Day&quot;</span>))
res_melt</code></pre></div>
<pre><code>##      Month Day variable value
##   1:     5   1    Ozone    41
##   2:     5   2    Ozone    36
##   3:     5   3    Ozone    12
##   4:     5   4    Ozone    18
##   5:     5   5    Ozone    NA
##  ---                         
## 608:     9  26     Temp    70
## 609:     9  27     Temp    77
## 610:     9  28     Temp    75
## 611:     9  29     Temp    76
## 612:     9  30     Temp    68</code></pre>
</div>
<div class="slide section level2">

<h3 id="dcast">dcast</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">res_dcast &lt;-<span class="st"> </span><span class="kw">dcast.data.table</span>(<span class="dt">data =</span> res_melt, Month <span class="op">+</span><span class="st"> </span>Day <span class="op">~</span><span class="st"> </span>variable)
res_dcast</code></pre></div>
<pre><code>##      Month Day Ozone Solar.R Wind Temp
##   1:     5   1    41     190  7.4   67
##   2:     5   2    36     118  8.0   72
##   3:     5   3    12     149 12.6   74
##   4:     5   4    18     313 11.5   62
##   5:     5   5    NA      NA 14.3   56
##  ---                                  
## 149:     9  26    30     193  6.9   70
## 150:     9  27    NA     145 13.2   77
## 151:     9  28    14     191 14.3   75
## 152:     9  29    18     131  8.0   76
## 153:     9  30    20     223 11.5   68</code></pre>
</div>
<div id="merge" class="slide section level2">
<h2>Merge</h2>
<p><strong>data.table</strong> possède sa fonction <code>merge</code>, identique à celle de base, mais beaucoup plus performante</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(dt)</code></pre></div>
<pre><code>## [1] 100000      4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n_groups &lt;-<span class="st"> </span>dt[, .N, by =<span class="st"> </span><span class="kw">list</span>(group, cat)]
<span class="co"># data.table</span>
<span class="kw">system.time</span>({<span class="kw">merge</span>(dt, n_groups, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;group&quot;</span>, <span class="st">&quot;cat&quot;</span>))})</code></pre></div>
<pre><code>##    user  system elapsed 
##    0.01    0.00    0.02</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># data.frame</span>
df &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(dt) ; df_n_groups &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(n_groups)
<span class="kw">system.time</span>({<span class="kw">merge</span>(df, df_n_groups, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;group&quot;</span>, <span class="st">&quot;cat&quot;</span>))})</code></pre></div>
<pre><code>##    user  system elapsed 
##    0.42    0.00    0.42</code></pre>
</div>
<div id="copy-et-gestion-de-la-memoire" class="slide section level2">
<h2>copy et gestion de la mémoire</h2>
<p>un objet <strong>data.table</strong> peut se voir comme un pointeur mémoire, et il ne possède pas les mêmes propriétés que la plupart des autres objets <strong>R</strong>, notamment lors de l’affectation à une nouvelle variable :</p>
<p><strong>exemple sur un data.frame</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> <span class="dv">1</span>)
df2 &lt;-<span class="st"> </span>df <span class="co"># nouvelle affectation</span>
df2<span class="op">$</span>y &lt;-<span class="st"> </span><span class="dv">2</span>
df</code></pre></div>
<pre><code>##   x y
## 1 1 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df2</code></pre></div>
<pre><code>##   x y
## 1 1 2</code></pre>
<p><strong>seulement df2 a été modifié</strong></p>
</div>
<div class="slide section level2">

<p><strong>exemple sur un data.table</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt &lt;-<span class="st"> </span><span class="kw">data.table</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> <span class="dv">1</span>)
dt2 &lt;-<span class="st"> </span>dt <span class="co"># nouvelle affectation</span>
dt2[, y <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="dv">2</span>]
dt</code></pre></div>
<pre><code>##    x y
## 1: 1 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt2</code></pre></div>
<pre><code>##    x y
## 1: 1 2</code></pre>
<p><strong>dt2 et dt ont été modifiés. Pour empêcher cela, il faut explicitement copier dt :</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dt2 &lt;-<span class="st"> </span><span class="kw">copy</span>(dt) <span class="co"># nouvelle affectation et copie</span></code></pre></div>
</div>
<div id="quelques-fonctions-utiles" class="slide section level2">
<h2>Quelques fonctions utiles</h2>
<ul>
<li><code>setcolorder</code> : ré-ordonnancement des colonnes</li>
<li><code>setorder</code> &amp; <code>setorderv</code>: tri de la table</li>
<li><code>subset</code> : syntaxe <strong>R</strong> base pour un sous-ensemble de données</li>
<li><code>shift</code> : lead/lag de colonnes</li>
<li><code>IDate</code> &amp; <code>IDateTime</code>: gestion et traitement efficace des dates/heures</li>
<li><code>rbindlist</code> : concaténation de data.table</li>
<li><code>tables</code> : informations sur les tables existantes</li>
<li><code>copy</code> : copie mémoire d’une table</li>
</ul>
</div>
<div id="le-package-dplyr-une-alternative-a-data.table" class="slide section level2">
<h2>Le package dplyr : une alternative à data.table</h2>
<p>Il y a actuellement deux packages majeurs pour le traitement efficace de données : le package <strong>data.table</strong> et le package <strong>dplyr</strong>. Ils se distinguent essentiellement par leur syntaxe :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># data.table</span>
dt[group <span class="op">==</span><span class="st"> &quot;A&quot;</span>, <span class="kw">list</span>(<span class="dt">s_value =</span> <span class="kw">sum</span>(value)), by =<span class="st"> </span><span class="kw">list</span>(group, cat)]

<span class="co"># dplyr</span>
dt <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(group, cat) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(group <span class="op">==</span><span class="st"> &quot;A&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">s_value =</span> <span class="kw">sum</span>(value))</code></pre></div>
<p>Plus d’informations sur <strong>dplyr</strong> : <a href="http://dplyr.tidyverse.org/" class="uri">http://dplyr.tidyverse.org/</a></p>
</div>
<div id="pour-aller-plus-loin" class="slide section level2">
<h2>Pour aller plus loin</h2>
<ul>
<li><p><a href="https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-intro-vignette.html">Vignette d’introduction</a> : <a href="https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-intro-vignette.html" class="uri">https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-intro-vignette.html</a></p></li>
<li><p><a href="https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reference-semantics.html">Semantique</a> : <a href="https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reference-semantics.html" class="uri">https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reference-semantics.html</a></p></li>
<li><p><a href="https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-keys-fast-subset.html">Clés</a> : <a href="https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-keys-fast-subset.html" class="uri">https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-keys-fast-subset.html</a></p></li>
<li><p><a href="https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reshape.html">Transformations</a> : <a href="https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reshape.html" class="uri">https://rawgit.com/wiki/Rdatatable/data.table/vignettes/datatable-reshape.html</a></p></li>
</ul>
<div style="text-align:center" markdown="1">
<h1>
Mais surtout pratiquer !
</h1>
</div>
</div>

  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

</body>
</html>
